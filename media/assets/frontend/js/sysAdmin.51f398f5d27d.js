webpackJsonp([10],{10:function(e,t,n){"use strict";function a(){return o.default.createElement("span",{className:"loading-icon loading-tip"})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a},1122:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(43),p=n(2),m={currentItem:f.default.string.isRequired},h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"desktop",urlPart:"desktop-devices",text:(0,p.gettext)("Desktop")},{name:"mobile",urlPart:"mobile-devices",text:(0,p.gettext)("Mobile")},{name:"errors",urlPart:"device-errors",text:(0,p.gettext)("Errors")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentItem;return u.default.createElement("div",{className:"cur-view-path tab-nav-container"},u.default.createElement("ul",{className:"nav"},this.navItems.map(function(t,n){return u.default.createElement("li",{className:"nav-item",key:n},u.default.createElement(d.Link,{to:p.siteRoot+"sys/"+t.urlPart+"/",className:"nav-link"+(e==t.name?" active":"")},t.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},1123:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(2),p=n(5),m={gotoPreviousPage:f.default.func.isRequired,gotoNextPage:f.default.func.isRequired,currentPage:f.default.number.isRequired,hasNextPage:f.default.bool.isRequired,canResetPerPage:f.default.bool.isRequired,resetPerPage:f.default.func},h=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.resetPerPage=function(e){a.props.resetPerPage(e)},a.goToPrevious=function(e){e.preventDefault(),a.props.gotoPreviousPage()},a.goToNext=function(e){e.preventDefault(),a.props.gotoNextPage()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return u.default.createElement(s.Fragment,null,u.default.createElement("div",{className:"my-6 text-center"},1!=this.props.currentPage&&u.default.createElement("a",{href:"#",onClick:this.goToPrevious},(0,d.gettext)("Previous")),this.props.hasNextPage&&u.default.createElement("a",{href:"#",onClick:this.goToNext,className:"ml-4"},(0,d.gettext)("Next"))),this.props.canResetPerPage&&u.default.createElement("div",null,(0,d.gettext)("Per page:")," ",u.default.createElement(p.Label,{onClick:function(){return e.resetPerPage(25)}},"25"),u.default.createElement(p.Label,{onClick:function(){return e.resetPerPage(50)}},"50"),u.default.createElement(p.Label,{onClick:function(){return e.resetPerPage(100)}},"100")))}}]),t}(s.Component);h.propTypes=m,t.default=h},1124:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(43),p=n(2),m={currentItem:f.default.string.isRequired},h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"all",urlPart:"all-libraries",text:(0,p.gettext)("All")},{name:"system",urlPart:"system-library",text:(0,p.gettext)("System")},{name:"trash",urlPart:"trash-libraries",text:(0,p.gettext)("Trash")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentItem;return u.default.createElement("div",{className:"cur-view-path tab-nav-container"},u.default.createElement("ul",{className:"nav"},this.navItems.map(function(t,n){return u.default.createElement("li",{className:"nav-item",key:n},u.default.createElement(d.Link,{to:p.siteRoot+"sys/"+t.urlPart+"/",className:"nav-link"+(e==t.name?" active":"")},t.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},1125:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p={displayName:f.default.string.isRequired,helpTip:f.default.string,mainContent:f.default.object.isRequired,extraContent:f.default.object},m=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.helpTip,n=e.displayName,a=e.mainContent,r=e.extraContent;return u.default.createElement(s.Fragment,null,u.default.createElement(d.Row,{className:"my-4"},u.default.createElement(d.Col,{md:"3"},u.default.createElement(d.Label,null,n)),u.default.createElement(d.Col,{md:"5"},a,t&&u.default.createElement("p",{className:"small text-secondary"},t)),u.default.createElement(d.Col,{md:"4"},r)))}}]),t}(s.Component);m.propTypes=p,t.default=m},119:function(e,t){},12:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(8),f=a(c),d=n(1),p=a(d),m={children:p.default.object.isRequired},h=document.getElementById("modal-wrapper"),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el=document.createElement("div"),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){h.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){h.removeChild(this.el)}},{key:"render",value:function(){return f.default.createPortal(this.props.children,this.el)}}]),t}(u.default.Component);g.propTypes=m,t.default=g},121:function(e,t){},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r={NEW_FOLDER:{key:"New Folder",value:(0,a.gettext)("New Folder")},NEW_FILE:{key:"New File",value:(0,a.gettext)("New File")},SHARE:{key:"Share",value:(0,a.gettext)("Share")},DOWNLOAD:{key:"Download",value:(0,a.gettext)("Download")},DELETE:{key:"Delete",value:(0,a.gettext)("Delete")},RENAME:{key:"Rename",value:(0,a.gettext)("Rename")},MOVE:{key:"Move",value:(0,a.gettext)("Move")},COPY:{key:"Copy",value:(0,a.gettext)("Copy")},PERMISSION:{key:"Permission",value:(0,a.gettext)("Permission")},DETAILS:{key:"Details",value:(0,a.gettext)("Details")},OPEN_VIA_CLIENT:{key:"Open via Client",value:(0,a.gettext)("Open via Client")},LOCK:{key:"Lock",value:(0,a.gettext)("Lock")},UNLOCK:{key:"Unlock",value:(0,a.gettext)("Unlock")},COMMENT:{key:"Comment",value:(0,a.gettext)("Comment")},HISTORY:{key:"History",value:(0,a.gettext)("History")},ACCESS_LOG:{key:"Access Log",value:(0,a.gettext)("Access Log")},TAGS:{key:"Tags",value:(0,a.gettext)("Tags")},RELATED_FILES:{key:"Related Files",value:(0,a.gettext)("Related Files")}};t.default=r},1373:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(4),f=n(2),d=n(6),p=a(d),m=n(3),h=n(98),g=a(h),Y=n(9),S=a(Y),Z=n(10),L=a(Z),C=n(1123),y=a(C),b=n(2366),E=a(b),T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPageDevicesList=function(){n.props.getDevicesListByPage(n.props.pageInfo.current_page-1)},n.getNextPageDevicesList=function(){n.props.getDevicesListByPage(n.props.pageInfo.current_page+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,a=e.items,r=e.pageInfo;if(t)return u.default.createElement(L.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var o=u.default.createElement(g.default,null,u.default.createElement("h2",null,(0,f.gettext)("No connected devices"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"19%"},(0,f.gettext)("User")),u.default.createElement("th",{width:"19%"},(0,f.gettext)("Platform")," / ",(0,f.gettext)("Version")),u.default.createElement("th",{width:"19%"},(0,f.gettext)("Device Name")),u.default.createElement("th",{width:"19%"},(0,f.gettext)("IP")),u.default.createElement("th",{width:"19%"},(0,f.gettext)("Last Access")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(e,t){return u.default.createElement(v,{key:t,item:e})}))),u.default.createElement(y.default,{gotoPreviousPage:this.getPreviousPageDevicesList,gotoNextPage:this.getNextPageDevicesList,currentPage:r.current_page,hasNextPage:r.has_next_page,canResetPerPage:!1}));return a.length?i:o}}]),t}(s.Component),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.handleUnlink=function(e){e.preventDefault(),n.props.item.is_desktop_client?n.toggleUnlinkDeviceDialog():n.unlinkDevice(!0)},n.toggleUnlinkDeviceDialog=function(){n.setState({isUnlinkDeviceDialogOpen:!n.state.isUnlinkDeviceDialogOpen})},n.unlinkDevice=function(e){var t=n.props.item,a=t.platform,r=t.device_id,o=t.user;c.seafileAPI.sysAdminUnlinkDevice(a,r,o,e).then(function(e){n.setState({unlinked:!0});var t=(0,f.gettext)("Successfully unlinked the device.");p.default.success(t)}).catch(function(e){var t=m.Utils.getErrorMsg(e);p.default.danger(t)})},n.state={unlinked:!1,isOpIconShown:!1,isUnlinkDeviceDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.unlinked,a=t.isUnlinkDeviceDialogOpen,r=t.isOpIconShown;return n?null:u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",null,e.user_name),u.default.createElement("td",null,e.platform," / ",e.client_version),u.default.createElement("td",null,e.device_name),u.default.createElement("td",null,e.last_login_ip),u.default.createElement("td",null,u.default.createElement("span",{title:(0,S.default)(e.last_accessed).format("llll")},(0,S.default)(e.last_accessed).fromNow())),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:"sf2-icon-delete action-icon "+(r?"":"invisible"),title:(0,f.gettext)("Unlink"),onClick:this.handleUnlink}))),a&&u.default.createElement(E.default,{unlinkDevice:this.unlinkDevice,toggleDialog:this.toggleUnlinkDeviceDialog}))}}]),t}(s.Component),D=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDevicesListByPage=function(e){var t=n.props.devicesPlatform,a=n.state.perPage;c.seafileAPI.sysAdminListDevices(t,e,a).then(function(e){n.setState({devicesData:e.data.devices,pageInfo:e.data.page_info,loading:!1})}).catch(function(e){e.response?403==e.response.status?(n.setState({loading:!1,errorMsg:(0,f.gettext)("Permission denied")}),location.href=f.loginUrl+"?next="+encodeURIComponent(location.href)):n.setState({loading:!1,errorMsg:(0,f.gettext)("Error")}):n.setState({loading:!1,errorMsg:(0,f.gettext)("Please check the network.")})})},n.state={loading:!0,errorMsg:"",devicesData:{},pageInfo:{},perPage:50},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.getDevicesListByPage(1)}},{key:"render",value:function(){return u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(T,{getDevicesListByPage:this.getDevicesListByPage,loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.devicesData,pageInfo:this.state.pageInfo}))}}]),t}(s.Component);t.default=D},1374:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m={title:f.default.string.isRequired,message:f.default.string.isRequired,confirmBtnText:f.default.string,executeOperation:f.default.func.isRequired,toggleDialog:f.default.func.isRequired},h=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.toggle=function(){a.props.toggleDialog()},a.executeOperation=function(){a.toggle(),a.props.executeOperation()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.message,a=e.confirmBtnText;return u.default.createElement(d.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(d.ModalHeader,{toggle:this.toggle},t),u.default.createElement(d.ModalBody,null,u.default.createElement("p",{dangerouslySetInnerHTML:{__html:n}})),u.default.createElement(d.ModalFooter,null,u.default.createElement(d.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(d.Button,{color:"primary",onClick:this.executeOperation},a||(0,p.gettext)("Confirm"))))}}]),t}(s.Component);h.propTypes=m,t.default=h},1375:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(42),p=a(d),m=n(5),h=n(2),g={index:f.default.number,department:f.default.object.isRequired,isChildrenShow:f.default.bool.isRequired,onChangeDepartment:f.default.func.isRequired,checkedDepartmentId:f.default.number.isRequired,importDepartmentDialogToggle:f.default.func.isRequired},Y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleChildren=function(e){e.preventDefault(),e.stopPropagation(),n.setState({isChildrenShow:!n.state.isChildrenShow})},n.dropdownToggle=function(e){e.stopPropagation(),n.setState({dropdownOpen:!n.state.dropdownOpen})},n.onMouseEnter=function(){n.setState({active:!0})},n.onMouseLeave=function(){n.state.dropdownOpen||n.setState({active:!1})},n.importDepartmentDialogToggle=function(e){n.setState({active:!1}),n.props.importDepartmentDialogToggle(e)},n.renderTreeNodes=function(e){if(e.length>0)return e.map(function(e){return u.default.createElement(t,{key:e.id,department:e,isChildrenShow:n.state.isChildrenShow,onChangeDepartment:n.props.onChangeDepartment,checkedDepartmentId:n.props.checkedDepartmentId,importDepartmentDialogToggle:n.importDepartmentDialogToggle})})},n.changeDept=function(e){var t=n.props,a=t.department,r=t.checkedDepartmentId;n.props.onChangeDepartment(e),r!==a.id||n.state.isChildrenShow||n.setState({isChildrenShow:!0})},n.state={isChildrenShow:!1,dropdownOpen:!1,active:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){0===this.props.index&&(this.setState({isChildrenShow:!0}),this.props.onChangeDepartment(this.props.department.id))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isChildrenShow,a=t.department,r=t.checkedDepartmentId,o=(0,p.default)({"folder-toggle-icon fa fa-caret-down":a.children&&this.state.isChildrenShow,"folder-toggle-icon fa fa-caret-right":a.children&&!this.state.isChildrenShow}),i=(0,p.default)({"tree-node-inner":!0,"tree-node-inner-hover":this.state.active,"tree-node-hight-light":r===a.id});return u.default.createElement(s.Fragment,null,n&&u.default.createElement("div",{className:i,onClick:function(){return e.changeDept(a.id)},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("span",{className:"tree-node-icon",onClick:function(t){return e.toggleChildren(t)}},u.default.createElement("i",{className:o})),u.default.createElement("span",{className:"tree-node-text"},a.name),h.isPro&&u.default.createElement(m.Dropdown,{isOpen:this.state.dropdownOpen,toggle:function(t){return e.dropdownToggle(t)},direction:"down",style:this.state.active?{}:{opacity:0}},u.default.createElement(m.DropdownToggle,{tag:"i",className:"fa fa-ellipsis-v cursor-pointer attr-action-icon",title:(0,h.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.dropdownOpen}),u.default.createElement(m.DropdownMenu,{className:"drop-list",right:!0},u.default.createElement(m.DropdownItem,{onClick:this.importDepartmentDialogToggle.bind(this,a),id:a.id},"\u5bfc\u5165\u90e8\u95e8")))),this.state.isChildrenShow&&u.default.createElement("div",{className:"department-children"},a.children&&this.renderTreeNodes(a.children)))}}]),t}(s.Component);Y.propTypes=g,t.default=Y},139:function(e,t){},140:function(e,t){},141:function(e,t){},142:function(e,t){},18:function(e,t,n){"use strict";n(53),n(54),"undefined"===typeof Promise&&(n(55).enable(),window.Promise=n(48)),n(51),Object.assign=n(30)},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.strChineseFirstPY="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY"},195:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(2),p={onCloseSidePanel:f.default.func,showCloseSidePanelIcon:f.default.bool},m=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.closeSide=function(){a.props.onCloseSidePanel()},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"top-logo"},u.default.createElement("a",{href:d.siteRoot,id:"logo"},u.default.createElement("img",{src:d.mediaUrl+d.logoPath,height:d.logoHeight,width:d.logoWidth,title:d.siteTitle,alt:"logo"})),this.props.showCloseSidePanelIcon&&u.default.createElement("a",{className:"sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none",onClick:this.closeSide,title:"Close","aria-label":"Close"}))}}]),t}(u.default.Component);m.propTypes=p,t.default=m},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dirPath="/",t.gettext=window.gettext,t.siteRoot=window.app.config.siteRoot,t.loginUrl=window.app.config.loginUrl,t.avatarInfo=window.app.config.avatarInfo,t.logoPath=window.app.config.logoPath,t.mediaUrl=window.app.config.mediaUrl,t.siteTitle=window.app.config.siteTitle,t.siteName=window.app.config.siteName,t.logoWidth=window.app.config.logoWidth,t.logoHeight=window.app.config.logoHeight,t.isPro="True"===window.app.config.isPro,t.isDocs="True"===window.app.config.isDocs,t.lang=window.app.config.lang,t.fileServerRoot=window.app.config.fileServerRoot,t.seafileVersion=window.app.config.seafileVersion,t.serviceURL=window.app.config.serviceURL,t.appAvatarURL=window.app.config.avatarURL,t.faviconPath=window.app.config.faviconPath,t.loginBGPath=window.app.config.loginBGPath,t.dtableWebServer=window.app.pageOptions.dtableWebServer,t.seafileCollabServer=window.app.pageOptions.seafileCollabServer,t.name=window.app.pageOptions.name,t.contactEmail=window.app.pageOptions.contactEmail,t.username=window.app.pageOptions.username,t.canAddRepo=window.app.pageOptions.canAddRepo,t.canAddGroup=window.app.pageOptions.canAddGroup,t.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink,t.canGenerateUploadLink=window.app.pageOptions.canGenerateUploadLink,t.canSendShareLinkEmail=window.app.pageOptions.canSendShareLinkEmail,t.canViewOrg="True"===window.app.pageOptions.canViewOrg,t.fileAuditEnabled=window.app.pageOptions.fileAuditEnabled,t.enableFileComment=!!window.app.pageOptions.enableFileComment,t.folderPermEnabled=window.app.pageOptions.folderPermEnabled,t.enableResetEncryptedRepoPassword="True"===window.app.pageOptions.enableResetEncryptedRepoPassword,t.isEmailConfigured="True"===window.app.pageOptions.isEmailConfigured,t.enableUploadFolder="True"===window.app.pageOptions.enableUploadFolder,t.enableResumableFileUpload="True"===window.app.pageOptions.enableResumableFileUpload,t.resumableUploadFileBlockSize=window.app.pageOptions.resumableUploadFileBlockSize,t.storages=window.app.pageOptions.storages,t.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel,t.shareLinkPasswordMinLength=window.app.pageOptions.shareLinkPasswordMinLength,t.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin,t.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax,t.shareLinkExpireDaysDefault=window.app.pageOptions.shareLinkExpireDaysDefault,t.maxFileName=window.app.pageOptions.maxFileName,t.enableWiki=window.app.pageOptions.enableWiki,t.canPublishRepo=window.app.pageOptions.canPublishRepo,t.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary,t.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting,t.isSystemStaff=window.app.pageOptions.isSystemStaff,t.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal,t.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength,t.canAddPublicRepo=window.app.pageOptions.canAddPublicRepo,t.canInvitePeople=window.app.pageOptions.canInvitePeople,t.canLockUnlockFile=window.app.pageOptions.canLockUnlockFile,t.customNavItems=window.app.pageOptions.customNavItems,t.curNoteMsg=window.app.pageOptions.curNoteMsg,t.curNoteID=window.app.pageOptions.curNoteID,t.workspaceID=window.app.pageOptions.workspaceID,t.slug=window.wiki?window.wiki.config.slug:"",t.repoID=window.wiki?window.wiki.config.repoId:"",t.initialPath=window.wiki?window.wiki.config.initial_path:"",t.permission=window.wiki?"True"===window.wiki.config.permission:"",t.isDir=window.wiki?window.wiki.config.isDir:"",t.serviceUrl=window.wiki?window.wiki.config.serviceUrl:"",t.isPublicWiki=window.wiki?"True"===window.wiki.config.isPublicWiki:"",t.sharedToken=window.wiki?window.wiki.config.sharedToken:"",t.sharedType=window.wiki?window.wiki.config.sharedType:"",t.hasIndex=window.wiki?window.wiki.config.hasIndex:"",t.PER_PAGE=25,t.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:"",t.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:"",t.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:"",t.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:"",t.useNewAPI=window.fileHistory?window.fileHistory.pageOptions.use_new_api:"",t.canDownload=window.fileHistory?window.fileHistory.pageOptions.can_download_file:"",t.canCompare=window.fileHistory?window.fileHistory.pageOptions.can_compare:"",t.draftFilePath=window.draft?window.draft.config.draftFilePath:"",t.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:"",t.draftFileName=window.draft?window.draft.config.draftFileName:"",t.draftID=window.draft?window.draft.config.draftID:"",t.draftRepoID=window.draft?window.draft.config.draftRepoID:"",t.author=window.draft?window.draft.config.author:"",t.authorAvatar=window.draft?window.draft.config.authorAvatar:"",t.originFileExists=window.draft?window.draft.config.originFileExists:"",t.draftFileExists=window.draft?window.draft.config.draftFileExists:"",t.draftStatus=window.draft?window.draft.config.draftStatus:"",t.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:"",t.originFileVersion=window.draft?window.draft.config.originFileVersion:"",t.filePermission=window.draft?window.draft.config.perm:"",t.orgID=window.org?window.org.pageOptions.orgID:"",t.invitationLink=window.org?window.org.pageOptions.invitationLink:"",t.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:"",t.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:"",t.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:"",t.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:"",t.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:"",t.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:"",t.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:"",t.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:"",t.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:"",t.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:"",t.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:"",t.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:"",t.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:"",t.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:"",t.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:"",t.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:"",t.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:"",t.enableWorkWeixin=window.sysadmin?window.sysadmin.pageOptions.enable_work_weixin:""},21:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(0),l=a(i),s=n(8),u=a(s),c=n(22),f=a(c),d="undefined"!==typeof window&&"undefined"!==typeof window.document,p=function e(){var t=this;if(r(this,e),this._bindNotify=function(e){t.notifyHandler=e},this._bindGetToasts=function(e){t.getToastsHandler=e},this._bindCloseAll=function(e){t.closeAllHandler=e},this.getToasts=function(){return t.getToastsHandler()},this.closeAll=function(){return t.closeAllHandler()},this.notify=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"none"}))},this.success=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"success"}))},this.warning=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"warning"}))},this.danger=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"danger"}))},d){var n=document.createElement("div");n.setAttribute("data-evergreen-toaster-container",""),document.body.appendChild(n),u.default.render(l.default.createElement(f.default,{bindNotify:this._bindNotify,bindGetToasts:this._bindGetToasts,bindCloseAll:this._bindCloseAll}),n)}};t.default=p},22:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(0),d=a(f),p=n(11),m=n(1),h=a(m),g=n(23),Y=a(g),S=(0,p.css)({maxWidth:560,margin:"0 auto",top:0,left:0,right:0,position:"fixed",zIndex:999999}),Z=function(e){return Object.hasOwnProperty.call(e,"id")},L=function(e){function t(e,n){i(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.getToasts=function(){return a.state.toasts},a.closeAll=function(){a.getToasts().forEach(function(e){return e.close()})},a.notify=function(e,t){if(Z(t)){var n=!0,r=!1,i=void 0;try{for(var l,s=a.state.toasts[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var u=l.value;String(u.id).startsWith(t.id)&&a.closeToast(u.id)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}var c=a.createToastInstance(e,t);return a.setState(function(e){return{toasts:[c].concat(o(e.toasts))}}),c},a.createToastInstance=function(e,n){var r=++t.idCounter,o=Z(n)?n.id+"-"+r:r;return{id:o,title:e,description:n.description,hasCloseButton:n.hasCloseButton||!0,duration:n.duration||2,close:function(){return a.closeToast(o)},intent:n.intent}},a.closeToast=function(e){a.setState(function(t){return{toasts:t.toasts.map(function(t){return t.id===e?u({},t,{isShown:!1}):t})}})},a.removeToast=function(e){a.setState(function(t){return{toasts:t.toasts.filter(function(t){return t.id!==e})}})},e.bindNotify(a.notify),e.bindGetToasts(a.getToasts),e.bindCloseAll(a.closeAll),a.state={toasts:[]},a}return s(t,e),c(t,[{key:"render",value:function(){var e=this;return d.default.createElement("span",{className:S},this.state.toasts.map(function(t){var n=t.id,a=t.description,o=r(t,["id","description"]);return d.default.createElement(Y.default,u({key:n,onRemove:function(){return e.removeToast(n)}},o),a)}))}}]),t}(d.default.PureComponent);L.propTypes={bindNotify:h.default.func.isRequired,bindGetToasts:h.default.func.isRequired,bindCloseAll:h.default.func.isRequired},L.idCounter=0,t.default=L},23:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(11),f=n(1),d=a(f),p=n(44),m=a(p),h=n(24),g=a(h),Y={deceleration:"cubic-bezier(0.0, 0.0, 0.2, 1)",acceleration:"cubic-bezier(0.4, 0.0, 1, 1)",spring:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},S=c.css.keyframes("openAnimation",{from:{opacity:0,transform:"translateY(-120%)"},to:{transform:"translateY(0)"}}),Z=c.css.keyframes("closeAnimation",{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.9)",opacity:0}}),L=(0,c.css)({display:"flex",flexDirection:"column",alignItems:"center",height:0,transition:"all 240ms "+Y.deceleration,'&[data-state="entering"], &[data-state="entered"]':{animation:S+" 240ms "+Y.spring+" both"},'&[data-state="exiting"]':{animation:Z+" 120ms "+Y.acceleration+" both"}}),C=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={isShown:!0,height:0},a.close=function(){a.clearCloseTimer(),a.setState({isShown:!1})},a.startCloseTimer=function(){a.props.duration&&(a.closeTimer=setTimeout(function(){a.close()},1e3*a.props.duration))},a.clearCloseTimer=function(){a.closeTimer&&(clearTimeout(a.closeTimer),a.closeTimer=null)},a.handleMouseEnter=function(){a.clearCloseTimer()},a.handleMouseLeave=function(){a.startCloseTimer()},a.onRef=function(e){if(null!==e){var t=e.getBoundingClientRect(),n=t.height;a.setState({height:n})}},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e){e.isShown!==this.props.isShown&&this.setState({isShown:this.props.isShown})}},{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e=this;return u.default.createElement(m.default,{appear:!0,unmountOnExit:!0,timeout:240,in:this.state.isShown,onExited:this.props.onRemove},function(t){return u.default.createElement("div",{"data-state":t,className:L,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,style:{height:e.state.height,zIndex:e.props.zIndex,marginBottom:e.state.isShown?0:-e.state.height}},u.default.createElement("div",{ref:e.onRef,style:{padding:8}},u.default.createElement(g.default,{intent:e.props.intent,title:e.props.title,children:e.props.children,isRemoveable:e.props.hasCloseButton,onRemove:function(){return e.close()}})))})}}]),t}(u.default.PureComponent);C.propTypes={zIndex:d.default.number,duration:d.default.number,onRemove:d.default.func,intent:d.default.oneOf(["none","success","warning","danger"]).isRequired,title:d.default.node,children:d.default.node,hasCloseButton:d.default.bool,isShown:d.default.bool},C.defaultProps={intent:"none"},t.default=C},2359:function(e,t,n){n(18),e.exports=n(2360)},2360:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(8),f=a(c),d=n(43),p=n(2),m=n(2361),h=a(m),g=n(2362),Y=a(g),S=n(2363),Z=a(S),L=n(2365),C=a(L),y=n(2367),b=a(y),E=n(2368),T=a(E),v=n(2369),D=a(v),P=n(2376),X=a(P),J=n(2377),w=a(J),M=n(2378),_=a(M),N=n(2382),H=a(N),Q=n(2388),O=a(Q),R=n(2391),B=a(R),F=n(2392),x=a(F);n(139),n(140),n(141),n(142),n(81);var G=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getCurrentTabForPageList=function(e){for(var t=void 0,n=void 0,a=p.siteRoot+"sys/",r=0,o=e.length;r<o;r++){t=e[r].urlPartList,n=e[r].tab;for(var i=0,l=t.length;i<l;i++)if(-1!=location.href.indexOf(""+a+t[i]))return n}},n.onCloseSidePanel=function(){n.setState({isSidePanelClosed:!n.state.isSidePanelClosed})},n.tabItemClick=function(e){n.setState({currentTab:e})},n.state={isSidePanelClosed:!1,currentTab:"file-scan"},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/"),t=e[e.length-2],n=[{tab:"devices",urlPartList:["desktop-devices","mobile-devices","device-errors"]},{tab:"libraries",urlPartList:["all-libraries","system-library","trash-libraries","libraries/"]}],a=this.getCurrentTabForPageList(n);t=a||t,this.setState({currentTab:t})}},{key:"render",value:function(){var e=this.state,t=e.currentTab,n=e.isSidePanelClosed;return u.default.createElement("div",{id:"main"},u.default.createElement(h.default,{isSidePanelClosed:n,onCloseSidePanel:this.onCloseSidePanel,currentTab:t,tabItemClick:this.tabItemClick}),u.default.createElement(Y.default,null,u.default.createElement(d.Router,{className:"reach-router"},u.default.createElement(Z.default,{path:p.siteRoot+"sys/info"}),u.default.createElement(C.default,{path:p.siteRoot+"sys/desktop-devices"}),u.default.createElement(b.default,{path:p.siteRoot+"sys/mobile-devices"}),u.default.createElement(T.default,{path:p.siteRoot+"sys/device-errors"}),u.default.createElement(D.default,{path:p.siteRoot+"sys/all-libraries"}),u.default.createElement(X.default,{path:p.siteRoot+"sys/system-library"}),u.default.createElement(w.default,{path:p.siteRoot+"sys/trash-libraries"}),u.default.createElement(_.default,{path:p.siteRoot+"sys/libraries/:repoID/*"}),u.default.createElement(H.default,{path:p.siteRoot+"sys/web-settings"}),u.default.createElement(O.default,{path:p.siteRoot+"sys/notifications"}),u.default.createElement(B.default,{path:p.siteRoot+"sys/file-scan-records",currentTab:t,tabItemClick:this.tabItemClick}),u.default.createElement(x.default,{path:p.siteRoot+"sys/work-weixin",currentTab:t,tabItemClick:this.tabItemClick}))))}}]),t}(u.default.Component);f.default.render(u.default.createElement(G,null),document.getElementById("wrapper"))},2361:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(43),p=n(195),m=a(p),h=n(2),g={isSidePanelClosed:f.default.bool.isRequired,onCloseSidePanel:f.default.func.isRequired,currentTab:f.default.string.isRequired,tabItemClick:f.default.func.isRequired},Y=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.getActiveClass=function(e){return a.props.currentTab==e?"active":""},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"side-panel "+(this.props.isSidePanelClosed?"":"left-zero")},u.default.createElement("div",{className:"side-panel-north"},u.default.createElement(m.default,{onCloseSidePanel:this.props.onCloseSidePanel})),u.default.createElement("div",{className:"side-panel-center"},u.default.createElement("div",{className:"side-nav"},u.default.createElement("div",{className:"side-nav-con"},u.default.createElement("h3",{className:"sf-heading"},(0,h.gettext)("System Admin")),u.default.createElement("ul",{className:"nav nav-pills flex-column nav-container"},h.canViewSystemInfo&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(d.Link,{className:"nav-link ellipsis "+this.getActiveClass("info"),to:h.siteRoot+"sys/info/",onClick:function(){return e.props.tabItemClick("info")}},u.default.createElement("span",{className:"sf2-icon-info","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Info")))),h.isPro&&h.canViewStatistic&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sys/statistic/file/"},u.default.createElement("span",{className:"sf2-icon-histogram","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Statistic")))),h.isDefaultAdmin&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(d.Link,{className:"nav-link ellipsis "+this.getActiveClass("devices"),to:h.siteRoot+"sys/desktop-devices/",onClick:function(){return e.props.tabItemClick("devices")}},u.default.createElement("span",{className:"sf2-icon-monitor","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Devices")))),h.constanceEnabled&&h.canConfigSystem&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(d.Link,{className:"nav-link ellipsis "+this.getActiveClass("web-settings"),to:h.siteRoot+"sys/web-settings/",onClick:function(){return e.props.tabItemClick("web-settings")}},u.default.createElement("span",{className:"sf2-icon-cog2","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Settings")))),h.canManageLibrary&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(d.Link,{className:"nav-link ellipsis "+this.getActiveClass("libraries"),to:h.siteRoot+"sys/all-libraries/",onClick:function(){return e.props.tabItemClick("libraries")}},u.default.createElement("span",{className:"sf2-icon-library","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Libraries")))),h.canManageUser&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sys/useradmin/"},u.default.createElement("span",{className:"sf2-icon-user","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Users")))),h.canManageGroup&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sysadmin/#groups/"},u.default.createElement("span",{className:"sf2-icon-group","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Groups")))),h.isPro&&h.canManageGroup&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sysadmin/#address-book/"},u.default.createElement("span",{className:"sf2-icon-organization","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Departments")))),h.multiTenancy&&h.isDefaultAdmin&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sys/orgadmin/"},u.default.createElement("span",{className:"sf2-icon-organization","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Organizations")))),h.multiInstitution&&h.isDefaultAdmin&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sys/instadmin/"},u.default.createElement("span",{className:"sf2-icon-organization","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Institutions")))),h.isDefaultAdmin&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(d.Link,{className:"nav-link ellipsis "+this.getActiveClass("notifications"),to:h.siteRoot+"sys/notifications/",onClick:function(){return e.props.tabItemClick("notifications")}},u.default.createElement("span",{className:"sf2-icon-msgs","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Notifications")))),h.isDefaultAdmin&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sys/publinkadmin/"},u.default.createElement("span",{className:"sf2-icon-link","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Links")))),h.sysadminExtraEnabled&&h.canViewUserLog&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sys/loginadmin/"},u.default.createElement("span",{className:"sf2-icon-clock","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Logs")))),h.isPro&&h.isDefaultAdmin&&h.enableFileScan&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(d.Link,{className:"nav-link ellipsis "+this.getActiveClass("file-scan-records"),to:h.siteRoot+"sys/file-scan-records/",onClick:function(){return e.props.tabItemClick("file-scan-records")}},u.default.createElement("span",{className:"sf2-icon-security","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("File Scan")))),h.isPro&&h.isDefaultAdmin&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sys/virus_scan_records/"},u.default.createElement("span",{className:"sf2-icon-security","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Virus Scan")))),h.enableGuestInvitation&&h.isDefaultAdmin&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sys/invitationadmin/"},u.default.createElement("span",{className:"sf2-icon-invite","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Invitations")))),h.isDefaultAdmin&&h.enableTermsAndConditions&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sys/termsadmin/"},u.default.createElement("span",{className:"sf2-icon-wiki","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Terms and Conditions")))),h.isPro&&h.canViewAdminLog&&u.default.createElement("li",{className:"nav-item"},u.default.createElement("a",{className:"nav-link ellipsis",href:h.siteRoot+"sysadmin/#admin-operation-logs/"},u.default.createElement("span",{className:"sf2-icon-admin-log","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Admin Logs")))),h.isDefaultAdmin&&h.enableWorkWeixin&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(d.Link,{className:"nav-link ellipsis "+this.getActiveClass("work-weixin"),to:h.siteRoot+"sys/work-weixin/",onClick:function(){return e.props.tabItemClick("work-weixin")}},u.default.createElement("span",{className:"sf3-font-enterprise-wechat sf3-font","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},"\u4f01\u4e1a\u5fae\u4fe1\u96c6\u6210"))))))))}}]),t}(u.default.Component);Y.propTypes=g,t.default=Y},2362:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d={children:f.default.object.isRequired},p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"main-panel o-hidden"},this.props.children)}}]),t}(s.Component);p.propTypes=d,t.default=p},2363:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(5),f=n(4),d=n(2),p=n(6),m=a(p),h=n(3),g=n(10),Y=a(g),S=n(268),Z=a(S);n(2364);var L=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uploadLicenseFile=function(e){if(n.fileInput.current.files.length){var t=n.fileInput.current.files[0];f.seafileAPI.sysAdminUploadLicense(t).then(function(e){var t=n.state.sysInfo;Object.assign(t,e.data,{with_license:!0}),n.setState({sysInfo:t})}).catch(function(e){var t=h.Utils.getErrorMsg(e);m.default.danger(t)})}},n.openFileInput=function(){n.fileInput.current.click()},n.renderLicenseDescString=function(e,t,n){return"life-time"==e?"zh-cn"==window.app.config.lang?"\u6c38\u4e45\u6388\u6743\u7ed9 "+t+"\uff0c\u6280\u672f\u652f\u6301\u670d\u52a1\u81f3 "+n+" \u5230\u671f":(0,d.gettext)("licensed to {placeholder_license_to}, upgrade service expired in {placeholder_license_expiration}").replace("{placeholder_license_to}",t).replace("{placeholder_license_expiration}",n):(0,d.gettext)("licensed to {placeholder_license_to}, expires on {placeholder_license_expiration}").replace("{placeholder_license_to}",t).replace("{placeholder_license_expiration}",n)},n.fileInput=u.default.createRef(),n.state={loading:!0,errorMsg:"",sysInfo:{}},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.sysAdminGetSysInfo().then(function(t){e.setState({loading:!1,sysInfo:t.data})}).catch(function(t){t.response?403==t.response.status?e.setState({loading:!1,errorMsg:(0,d.gettext)("Permission denied")}):e.setState({loading:!1,errorMsg:(0,d.gettext)("Error")}):e.setState({loading:!1,errorMsg:(0,d.gettext)("Please check the network.")})})}},{key:"render",value:function(){var e=this.state.sysInfo,t=e.license_mode,n=e.license_to,a=e.license_expiration,r=e.org_count,o=e.repos_count,i=e.total_files_count,l=e.total_storage,f=e.total_devices_count,p=e.current_connected_devices_count,m=e.license_maxusers,g=e.multi_tenancy_enabled,S=e.active_users_count,L=e.users_count,C=e.groups_count,y=e.with_license,b=this.state,E=b.loading,T=b.errorMsg;return u.default.createElement(s.Fragment,null,u.default.createElement(Z.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container system-admin-info"},u.default.createElement("h2",{className:"heading"},(0,d.gettext)("Info")),u.default.createElement("div",{className:"content"},E&&u.default.createElement(Y.default,null),T&&u.default.createElement("p",{className:"error text-center mt-4"},T),!E&&!T&&u.default.createElement("dl",{className:"m-0"},u.default.createElement("dt",{className:"info-item-heading"},(0,d.gettext)("System Info")),d.isPro?u.default.createElement("dd",{className:"info-item-content"},(0,d.gettext)("Professional Edition"),y&&" "+this.renderLicenseDescString(t,n,a),u.default.createElement("br",null),d.isDefaultAdmin&&u.default.createElement(s.Fragment,null,u.default.createElement(c.Button,{type:"button",className:"mt-2",onClick:this.openFileInput},(0,d.gettext)("Upload license")),u.default.createElement("input",{className:"d-none",type:"file",onChange:this.uploadLicenseFile,ref:this.fileInput}))):u.default.createElement("dd",{className:"info-item-content"},(0,d.gettext)("Community Edition"),u.default.createElement("a",{className:"ml-1",href:"http://manual.seafile.com/deploy_pro/migrate_from_seafile_community_server.html",target:"_blank"},(0,d.gettext)("Upgrade to Pro Edition"))),u.default.createElement("dt",{className:"info-item-heading"},(0,d.gettext)("Libraries")," / ",(0,d.gettext)("Files")),u.default.createElement("dd",{className:"info-item-content"},o," / ",i),u.default.createElement("dt",{className:"info-item-heading"},(0,d.gettext)("Storage Used")),u.default.createElement("dd",{className:"info-item-content"},h.Utils.bytesToSize(l)),u.default.createElement("dt",{className:"info-item-heading"},(0,d.gettext)("Total Devices")," / ",(0,d.gettext)("Current Connected Devices")),u.default.createElement("dd",{className:"info-item-content"},f," / ",p),d.isPro?u.default.createElement(s.Fragment,null,u.default.createElement("dt",{className:"info-item-heading"},(0,d.gettext)("Activated Users")," / ",(0,d.gettext)("Total Users")," / ",(0,d.gettext)("Limits")),u.default.createElement("dd",{className:"info-item-content"},S," / ",L," / ",y?m:"--")):u.default.createElement(s.Fragment,null,u.default.createElement("dt",{className:"info-item-heading"},(0,d.gettext)("Activated Users")," / ",(0,d.gettext)("Total Users")),u.default.createElement("dd",{className:"info-item-content"},S," / ",L)),u.default.createElement("dt",{className:"info-item-heading"},(0,d.gettext)("Groups")),u.default.createElement("dd",{className:"info-item-content"},C),g&&u.default.createElement(s.Fragment,null,u.default.createElement("dt",{className:"info-item-heading"},(0,d.gettext)("Organizations")),u.default.createElement("dd",{className:"info-item-content"},r)))))))}}]),t}(s.Component);t.default=L},2364:function(e,t){},2365:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1122),f=a(c),d=n(1373),p=a(d),m=n(268),h=a(m),g=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(h.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(f.default,{currentItem:"desktop"}),u.default.createElement(p.default,{devicesPlatform:"desktop"}))))}}]),t}(s.Component);t.default=g},2366:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(2),p=n(5),m={unlinkDevice:f.default.func.isRequired,toggleDialog:f.default.func.isRequired},h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInputChange=function(e){n.setState({inputChecked:e.target.checked})},n.unlinkDevice=function(){n.props.toggleDialog(),n.props.unlinkDevice(n.state.inputChecked)},n.state={inputChecked:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.inputChecked,t=this.props.toggleDialog;return u.default.createElement(p.Modal,{isOpen:!0,toggle:t},u.default.createElement(p.ModalHeader,{toggle:t},(0,d.gettext)("Unlink device")),u.default.createElement(p.ModalBody,null,u.default.createElement("p",null,(0,d.gettext)("Are you sure you want to unlink this device?")),u.default.createElement("div",{className:"d-flex align-items-center"},u.default.createElement("input",{id:"delete-files",className:"mr-1",type:"checkbox",checked:e,onChange:this.handleInputChange}),u.default.createElement("label",{htmlFor:"delete-files",className:"m-0"},(0,d.gettext)("Delete files from this device the next time it comes online.")))),u.default.createElement(p.ModalFooter,null,u.default.createElement(p.Button,{color:"secondary",onClick:t},(0,d.gettext)("Cancel")),u.default.createElement(p.Button,{color:"primary",onClick:this.unlinkDevice},(0,d.gettext)("Unlink"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},2367:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1122),f=a(c),d=n(1373),p=a(d),m=n(268),h=a(m),g=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(h.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(f.default,{currentItem:"mobile"}),u.default.createElement(p.default,{devicesPlatform:"mobile"}))))}}]),t}(s.Component);t.default=g},2368:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(5),f=n(4),d=n(2),p=n(6),m=a(p),h=n(3),g=n(98),Y=a(g),S=n(9),Z=a(S),L=n(10),C=a(L),y=n(43),b=n(1122),E=a(b),T=n(268),v=a(T),D=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,a=e.items;if(t)return u.default.createElement(C.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var r=u.default.createElement(Y.default,null,u.default.createElement("h2",null,(0,d.gettext)("No sync errors"))),o=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"16%"},(0,d.gettext)("User")),u.default.createElement("th",{width:"20%"},(0,d.gettext)("Device")," / ",(0,d.gettext)("Version")),u.default.createElement("th",{width:"16%"},(0,d.gettext)("IP")),u.default.createElement("th",{width:"16%"},(0,d.gettext)("Library")),u.default.createElement("th",{width:"16%"},(0,d.gettext)("Error")),u.default.createElement("th",{width:"16%"},(0,d.gettext)("Time")))),u.default.createElement("tbody",null,a.map(function(e,t){return u.default.createElement(P,{key:t,item:e})}))));return a.length?o:r}}]),t}(s.Component),P=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.state={isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return u.default.createElement("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement(y.Link,{to:d.siteRoot+"useradmin/info/"+encodeURIComponent(e.email)+"/"},e.name)),u.default.createElement("td",null,e.device_name," / ",e.client_version),u.default.createElement("td",null,e.device_ip),u.default.createElement("td",null,u.default.createElement(y.Link,{to:d.siteRoot+"sysadmin/#libs/"+e.repo_id},e.repo_name)),u.default.createElement("td",null,e.error_msg),u.default.createElement("td",null,u.default.createElement("span",{className:"item-meta-info",title:(0,Z.default)(e.last_accessed).format("llll")},(0,Z.default)(e.error_time).fromNow())))}}]),t}(s.Component),X=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clean=function(){f.seafileAPI.sysAdminClearDeviceErrors().then(function(e){n.setState({devicesErrors:[],isCleanBtnShown:!1});var t=(0,d.gettext)("Successfully cleaned all errors.");m.default.success(t)}).catch(function(e){var t=h.Utils.getErrorMsg(e);m.default.danger(t)})},n.state={loading:!0,errorMsg:"",devicesErrors:[],isCleanBtnShown:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.sysAdminListDeviceErrors().then(function(t){e.setState({loading:!1,devicesErrors:t.data,isCleanBtnShown:t.data.length>0})}).catch(function(t){t.response?403==t.response.status?(e.setState({loading:!1,errorMsg:(0,d.gettext)("Permission denied")}),location.href=d.loginUrl+"?next="+encodeURIComponent(location.href)):e.setState({loading:!1,errorMsg:(0,d.gettext)("Error")}):e.setState({loading:!1,errorMsg:(0,d.gettext)("Please check the network.")})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,this.state.isCleanBtnShown?u.default.createElement(v.default,null,u.default.createElement(c.Button,{className:"operation-item",onClick:this.clean},(0,d.gettext)("Clean"))):u.default.createElement(v.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(E.default,{currentItem:"errors"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(D,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.devicesErrors})))))}}]),t}(s.Component);t.default=X},2369:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(5),f=n(3),d=n(4),p=n(2),m=n(6),h=a(m),g=n(98),Y=a(g),S=n(10),Z=a(S),L=n(1123),C=a(L),y=n(12),b=a(y),E=n(672),T=a(E),v=n(414),D=a(v),P=n(2370),X=a(P),J=n(2373),w=a(J),M=n(2374),_=a(M),N=n(268),H=a(N),Q=n(1124),O=a(Q),R=n(2375),B=a(R),F=window.sysadmin.pageOptions.enableSysAdminViewRepo,x=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.getPreviousPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page-1)},n.getNextPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page+1)},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.errorMsg,r=t.items,o=t.pageInfo;if(n)return u.default.createElement(Z.default,null);if(a)return u.default.createElement("p",{className:"error text-center"},a);var i=u.default.createElement(Y.default,null,u.default.createElement("h2",null,(0,p.gettext)("No libraries"))),l=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"25%"},(0,p.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,p.gettext)("Files")," / ",(0,p.gettext)("Size")),u.default.createElement("th",{width:"32%"},"ID"),u.default.createElement("th",{width:"18%"},(0,p.gettext)("Owner")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,r.map(function(t,n){return u.default.createElement(G,{key:n,repo:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,onDeleteRepo:e.props.onDeleteRepo,onTransferRepo:e.props.onTransferRepo})}))),u.default.createElement(C.default,{gotoPreviousPage:this.getPreviousPageList,gotoNextPage:this.getNextPageList,currentPage:o.current_page,hasNextPage:o.has_next_page,canResetPerPage:!1}));return r.length?l:i}}]),t}(s.Component),G=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDeleteRepo=function(e){d.seafileAPI.sysAdminDeleteRepo(e.id).then(function(t){n.props.onDeleteRepo(e);var a=(0,p.gettext)("Successfully deleted {name}.").replace("{name}",e.name);h.default.success(a)}).catch(function(e){var t=f.Utils.getErrorMsg(e);h.default.danger(t)}),n.toggleDeleteDialog()},n.onTransferRepo=function(e){d.seafileAPI.sysAdminTransferRepo(n.props.repo.id,e.email).then(function(e){n.props.onTransferRepo(e.data);var t=(0,p.gettext)("Successfully transferred the library.");h.default.success(t)}).catch(function(e){var t=f.Utils.getErrorMsg(e);h.default.danger(t)}),n.toggleTransferDialog()},n.handleMouseOver=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseOut=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.onMenuItemClick=function(e){switch(e){case"Share":n.toggleShareDialog();break;case"Delete":n.toggleDeleteDialog();break;case"Transfer":n.toggleTransferDialog();break;case"History Setting":n.toggleHistorySettingDialog()}},n.toggleShareDialog=function(){n.setState({isShareDialogOpen:!n.state.isShareDialogOpen})},n.toggleDeleteDialog=function(){n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.toggleTransferDialog=function(){n.setState({isTransferDialogOpen:!n.state.isTransferDialogOpen})},n.toggleHistorySettingDialog=function(){n.setState({isHistorySettingDialogOpen:!n.state.isHistorySettingDialogOpen})},n.renderRepoName=function(){var e=n.props.repo;return e.name?p.isPro&&F&&!e.encrypted?u.default.createElement("a",{href:p.siteRoot+"sys/libraries/"+e.id+"/"},e.name):e.name:"--"},n.state={isOpIconShown:!1,highlight:!1,isShareDialogOpen:!1,isDeleteDialogOpen:!1,isTransferDialogOpen:!1,isHistorySettingDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t=this.state,n=t.isOpIconShown,a=t.isShareDialogOpen,r=t.isDeleteDialogOpen,o=t.isTransferDialogOpen,i=t.isHistorySettingDialogOpen,l=f.Utils.getLibIconUrl(e),c=f.Utils.getLibIconTitle(e),d=-1!=e.owner.indexOf("@seafile_group");return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement("img",{src:l,title:c,alt:c,width:"24"})),u.default.createElement("td",null,this.renderRepoName()),u.default.createElement("td",null,e.file_count+" / "+f.Utils.bytesToSize(e.size)),u.default.createElement("td",null,e.id),u.default.createElement("td",null,d?u.default.createElement("a",{href:p.siteRoot+"sysadmin/#address-book/groups/"+e.owner_name+"/"},e.group_name):u.default.createElement("a",{href:p.siteRoot+"useradmin/info/"+encodeURIComponent(e.owner_email)+"/"},e.owner_name)),u.default.createElement("td",null,!d&&n&&u.default.createElement(B.default,{repo:e,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),a&&u.default.createElement(b.default,null,u.default.createElement(X.default,{itemName:e.name,itemPath:"/",repoID:e.id,isGroupOwnedRepo:d,repoEncrypted:e.encrypted,enableDirPrivateShare:!0,userPerm:e.permission,toggleDialog:this.toggleShareDialog})),r&&u.default.createElement(b.default,null,u.default.createElement(D.default,{repo:e,onDeleteRepo:this.onDeleteRepo,toggle:this.toggleDeleteDialog})),o&&u.default.createElement(b.default,null,u.default.createElement(T.default,{itemName:e.name,submit:this.onTransferRepo,canTransferToDept:!1,toggleDialog:this.toggleTransferDialog})),i&&u.default.createElement(b.default,null,u.default.createElement(w.default,{repoID:e.id,itemName:e.name,toggleDialog:this.toggleHistorySettingDialog})))}}]),t}(s.Component),W=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCreateRepoDialog=function(){n.setState({isCreateRepoDialogOpen:!n.state.isCreateRepoDialogOpen})},n.getReposByPage=function(e){d.seafileAPI.sysAdminListAllRepos(e,n.state.perPage).then(function(e){n.setState({loading:!1,repos:e.data.repos,pageInfo:e.data.page_info})}).catch(function(e){e.response?403==e.response.status?(n.setState({loading:!1,errorMsg:(0,p.gettext)("Permission denied")}),location.href=p.loginUrl+"?next="+encodeURIComponent(location.href)):n.setState({loading:!1,errorMsg:(0,p.gettext)("Error")}):n.setState({loading:!1,errorMsg:(0,p.gettext)("Please check the network.")})})},n.createRepo=function(e,t){d.seafileAPI.sysAdminCreateRepo(e,t).then(function(e){n.state.repos.unshift(e.data),n.setState({repos:n.state.repos})}).catch(function(e){var t=f.Utils.getErrorMsg(e);h.default.danger(t)})},n.onDeleteRepo=function(e){var t=n.state.repos.filter(function(t){return t.id!=e.id});n.setState({repos:t})},n.onTransferRepo=function(e){var t=n.state.repos.map(function(t){return t.id==e.id?e:t});n.setState({repos:t})},n.state={loading:!0,errorMsg:"",repos:[],pageInfo:{},perPage:100,isCreateRepoDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.getReposByPage(1)}},{key:"render",value:function(){var e=this.state.isCreateRepoDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(H.default,null,u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleCreateRepoDialog},u.default.createElement("i",{className:"fas fa-plus-square text-secondary mr-1"}),(0,p.gettext)("New Library"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(O.default,{currentItem:"all"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(x,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repos,pageInfo:this.state.pageInfo,getListByPage:this.getReposByPage,onDeleteRepo:this.onDeleteRepo,onTransferRepo:this.onTransferRepo})))),e&&u.default.createElement(_.default,{createRepo:this.createRepo,toggleDialog:this.toggleCreateRepoDialog}))}}]),t}(s.Component);t.default=W},2370:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(2371),h=a(m),g=n(2372),Y=a(g);n(121);var S={itemName:f.default.string.isRequired,itemPath:f.default.string.isRequired,toggleDialog:f.default.func.isRequired,repoID:f.default.string.isRequired,isGroupOwnedRepo:f.default.bool.isRequired,repoEncrypted:f.default.bool,userPerm:f.default.string,enableDirPrivateShare:f.default.bool},Z=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getInitialActiveTab=function(){return"shareToUser"},n.toggle=function(e){n.state.activeTab!==e&&n.setState({activeTab:e})},n.renderDirContent=function(){var e=n.state.activeTab,t=n.props,a=t.enableDirPrivateShare,r=t.isGroupOwnedRepo;return u.default.createElement(s.Fragment,null,u.default.createElement("div",{className:"share-dialog-side"},u.default.createElement(d.Nav,{pills:!0,vertical:!0},a&&u.default.createElement(s.Fragment,null,u.default.createElement(d.NavItem,null,u.default.createElement(d.NavLink,{className:"shareToUser"===e?"active":"",onClick:n.toggle.bind(n,"shareToUser")},(0,p.gettext)("Share to user"))),u.default.createElement(d.NavItem,null,u.default.createElement(d.NavLink,{className:"shareToGroup"===e?"active":"",onClick:n.toggle.bind(n,"shareToGroup")},(0,p.gettext)("Share to group")))))),u.default.createElement("div",{className:"share-dialog-main"},u.default.createElement(d.TabContent,{activeTab:n.state.activeTab},a&&u.default.createElement(s.Fragment,null,u.default.createElement(d.TabPane,{tabId:"shareToUser"},u.default.createElement(h.default,{itemType:"library",isGroupOwnedRepo:r,itemPath:n.props.itemPath,repoID:n.props.repoID,isRepoOwner:n.state.isRepoOwner})),u.default.createElement(d.TabPane,{tabId:"shareToGroup"},u.default.createElement(Y.default,{itemType:"library",isGroupOwnedRepo:r,itemPath:n.props.itemPath,repoID:n.props.repoID,isRepoOwner:n.state.isRepoOwner}))))))},n.state={activeTab:n.getInitialActiveTab(),isRepoOwner:!1},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(d.Modal,{isOpen:!0,style:{maxWidth:"720px"},className:"share-dialog",toggle:this.props.toggleDialog},u.default.createElement(d.ModalHeader,{toggle:this.props.toggleDialog},(0,p.gettext)("Share")," ",u.default.createElement("span",{className:"op-target",title:this.props.itemName},this.props.itemName)),u.default.createElement(d.ModalBody,{className:"share-dialog-content"},this.renderDirContent())))}}]),t}(u.default.Component);Z.propTypes=S,t.default=Z},2371:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(2),p=n(5),m=n(4),h=n(3),g=n(6),Y=a(g),S=n(41),Z=a(S),L=n(56),C=a(L),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({isOperationShow:!0})},n.onMouseLeave=function(){n.setState({isOperationShow:!1})},n.deleteShareItem=function(){var e=n.props.item;n.props.deleteShareItem(e.user_email)},n.onChangeUserPermission=function(e){var t=n.props.item;n.props.onChangeUserPermission(t,e)},n.state={isOperationShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=e.is_admin?"admin":e.permission;return u.default.createElement("tr",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",{className:"name"},e.user_name),u.default.createElement("td",null,u.default.createElement(C.default,{isTextMode:!0,isEditIconShow:this.state.isOperationShow,currentPermission:t,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission})),u.default.createElement("td",null,u.default.createElement("span",{className:"sf2-icon-x3 action-icon "+(this.state.isOperationShow?"":"hide"),onClick:this.deleteShareItem,title:(0,d.gettext)("Delete")})))}}]),t}(u.default.Component),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.items;return u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(y,{key:n,item:t,permissions:e.props.permissions,deleteShareItem:e.props.deleteShareItem,onChangeUserPermission:e.props.onChangeUserPermission})}))}}]),t}(u.default.Component),E={isGroupOwnedRepo:f.default.bool,itemPath:f.default.string.isRequired,itemType:f.default.string.isRequired,repoID:f.default.string.isRequired},T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e}),n.options=[]},n.setPermission=function(e){n.setState({permission:e})},n.shareToUser=function(){var e=[],t=n.props.repoID;if(n.state.selectedOption&&n.state.selectedOption.length>0)for(var a=0;a<n.state.selectedOption.length;a++)e[a]=n.state.selectedOption[a].email;m.seafileAPI.sysAdminAddRepoSharedItem(t,"user",e,n.state.permission).then(function(e){var t=[];if(e.data.failed.length>0)for(var a=0;a<e.data.failed.length;a++)t[a]=e.data.failed[a];var r=e.data.success;n.setState({errorMsg:t,sharedItems:n.state.sharedItems.concat(r),selectedOption:null,permission:"rw"}),n.refs.userSelect.clearSelect()}).catch(function(e){if(e.response){var t=(0,d.gettext)("Library can not be shared to owner."),a=[];a.push(t),n.setState({errorMsg:a,selectedOption:null})}})},n.deleteShareItem=function(e){var t=n.props.repoID;m.seafileAPI.sysAdminDeleteRepoSharedItem(t,"user",e).then(function(t){n.setState({sharedItems:n.state.sharedItems.filter(function(t){return t.user_email!==e})})}).catch(function(e){var t=h.Utils.getErrorMsg(e);Y.default.danger(t)})},n.onChangeUserPermission=function(e,t){var a=n.props.repoID,r=e.user_email;m.seafileAPI.sysAdminUpdateRepoSharedItemPermission(a,"user",r,t).then(function(){n.updateSharedItems(e,t)}).catch(function(e){var t=h.Utils.getErrorMsg(e);Y.default.danger(t)})},n.updateSharedItems=function(e,t){var a=e.user_name,r=n.state.sharedItems.map(function(e){var n=e.user_name;return a===n&&(e.permission=t,e.is_admin="admin"===t),e});n.setState({sharedItems:r})},n.state={selectedOption:null,errorMsg:[],permission:"rw",sharedItems:[]},n.options=[],n.permissions=["rw","r"],d.isPro&&n.permissions.push("admin","cloud-edit","preview"),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.repoID;m.seafileAPI.sysAdminListRepoSharedItems(t,"user").then(function(t){0!==t.data.length&&e.setState({sharedItems:t.data})}).catch(function(e){var t=h.Utils.getErrorMsg(e);Y.default.danger(t)})}},{key:"render",value:function(){var e=this.state.sharedItems;return u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"50%"},(0,d.gettext)("User")),u.default.createElement("th",{width:"35%"},(0,d.gettext)("Permission")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(Z.default,{ref:"userSelect",isMulti:!0,className:"reviewer-select",placeholder:(0,d.gettext)("Select users..."),onSelectChange:this.handleSelectChange})),u.default.createElement("td",null,u.default.createElement(C.default,{isTextMode:!1,isEditIconShow:!1,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission})),u.default.createElement("td",null,u.default.createElement(p.Button,{onClick:this.shareToUser},(0,d.gettext)("Submit")))),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(e,t){var n="";return n=e.email?e.email+": "+e.error_msg:e,u.default.createElement("tr",{key:t},u.default.createElement("td",{colSpan:3},u.default.createElement("p",{className:"error"},n)))}))),u.default.createElement("div",{className:"share-list-container"},u.default.createElement("table",{className:"table-thead-hidden"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"50%"},(0,d.gettext)("User")),u.default.createElement("th",{width:"35%"},(0,d.gettext)("Permission")),u.default.createElement("th",{width:"15%"}))),u.default.createElement(b,{items:e,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission}))))}}]),t}(u.default.Component);T.propTypes=E,t.default=T},2372:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(0),f=a(c),d=n(1),p=a(d),m=n(5),h=n(73),g=a(h),Y=n(180),S=a(Y),Z=n(2),L=n(4),C=n(3),y=n(6),b=a(y),E=n(56),T=a(E),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({isOperationShow:!0})},n.onMouseLeave=function(){n.setState({isOperationShow:!1})},n.deleteShareItem=function(){var e=n.props.item;n.props.deleteShareItem(e.group_id)},n.onChangeUserPermission=function(e){var t=n.props.item;n.props.onChangeUserPermission(t,e)},n.state={isOperationShow:!1},n}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props.item,t=e.is_admin?"admin":e.permission;return f.default.createElement("tr",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},f.default.createElement("td",{className:"name"},e.group_name),f.default.createElement("td",null,f.default.createElement(T.default,{isTextMode:!0,isEditIconShow:this.state.isOperationShow,currentPermission:t,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission})),f.default.createElement("td",null,f.default.createElement("span",{className:"sf2-icon-x3 action-icon "+(this.state.isOperationShow?"":"hide"),onClick:this.deleteShareItem,title:(0,Z.gettext)("Delete")})))}}]),t}(f.default.Component),D=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props.items;return f.default.createElement("tbody",null,t.map(function(t,n){return f.default.createElement(v,{key:n,item:t,permissions:e.props.permissions,deleteShareItem:e.props.deleteShareItem,onChangeUserPermission:e.props.onChangeUserPermission})}))}}]),t}(f.default.Component),P={isGroupOwnedRepo:p.default.bool,itemPath:p.default.string.isRequired,itemType:p.default.string.isRequired,repoID:p.default.string.isRequired,isRepoOwner:p.default.bool.isRequired},X=function(e){return f.default.createElement("div",s({},e.innerProps,{style:{margin:"6px 10px",textAlign:"center",color:"hsl(0,0%,50%)"}}),(0,Z.gettext)("Group not found"))},J=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e})},n.loadOptions=function(){L.seafileAPI.shareableGroups().then(function(e){n.options=[];for(var t=0;t<e.data.length;t++){var a={};a.value=e.data[t].name,a.id=e.data[t].id,a.label=e.data[t].name,n.options.push(a)}}).catch(function(e){var t=C.Utils.getErrorMsg(e);b.default.danger(t)})},n.listSharedGroups=function(){var e=n.props.repoID;L.seafileAPI.sysAdminListRepoSharedItems(e,"group").then(function(e){0!==e.data.length&&n.setState({sharedItems:e.data})}).catch(function(e){var t=C.Utils.getErrorMsg(e);b.default.danger(t)})},n.setPermission=function(e){n.setState({permission:e})},n.shareToGroup=function(){var e=[],t=n.props.repoID;if(n.state.selectedOption&&n.state.selectedOption.length>0)for(var a=0;a<n.state.selectedOption.length;a++)e[a]=n.state.selectedOption[a].id;L.seafileAPI.sysAdminAddRepoSharedItem(t,"group",e,n.state.permission).then(function(e){var t=[];if(e.data.failed.length>0)for(var a=0;a<e.data.failed.length;a++)t[a]=e.data.failed[a];var r=e.data.success;n.setState({errorMsg:t,sharedItems:n.state.sharedItems.concat(r),selectedOption:null,permission:"rw"})}).catch(function(e){var t=C.Utils.getErrorMsg(e);b.default.danger(t)})},n.deleteShareItem=function(e){var t=n.props.repoID;L.seafileAPI.sysAdminDeleteRepoSharedItem(t,"group",e).then(function(){n.setState({sharedItems:n.state.sharedItems.filter(function(t){return t.group_id!==e})})}).catch(function(e){var t=C.Utils.getErrorMsg(e);b.default.danger(t)})},n.onChangeUserPermission=function(e,t){var a=n.props.repoID,r=e.group_id;L.seafileAPI.sysAdminUpdateRepoSharedItemPermission(a,"group",r,t).then(function(){n.updateSharedItems(e,t)}).catch(function(e){var t=C.Utils.getErrorMsg(e);b.default.danger(t)})},n.updateSharedItems=function(e,t){var a=e.group_id,r=n.state.sharedItems.map(function(e){var n=e.group_id;return a===n&&(e.permission=t,e.is_admin="admin"===t),e});n.setState({sharedItems:r})},n.state={selectedOption:null,errorMsg:[],permission:"rw",sharedItems:[]},n.options=[],n.permissions=["rw","r"],Z.isPro&&n.permissions.push("admin","cloud-edit","preview"),n}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.loadOptions(),this.listSharedGroups()}},{key:"render",value:function(){return f.default.createElement(c.Fragment,null,f.default.createElement("table",null,f.default.createElement("thead",null,f.default.createElement("tr",null,f.default.createElement("th",{width:"50%"},(0,Z.gettext)("Group")),f.default.createElement("th",{width:"35%"},(0,Z.gettext)("Permission")),f.default.createElement("th",{width:"15%"}))),f.default.createElement("tbody",null,f.default.createElement("tr",null,f.default.createElement("td",null,f.default.createElement(g.default,r({isMulti:!0,onChange:this.handleSelectChange,options:this.options,placeholder:(0,Z.gettext)("Select groups..."),components:(0,S.default)(),maxMenuHeight:200,inputId:"react-select-2-input",value:this.state.selectedOption},"components",{NoOptionsMessage:X}))),f.default.createElement("td",null,f.default.createElement(T.default,{isTextMode:!1,isEditIconShow:!1,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission})),f.default.createElement("td",null,f.default.createElement(m.Button,{onClick:this.shareToGroup},(0,Z.gettext)("Submit")))),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(e,t){var n=e.group_name+": "+e.error_msg;return f.default.createElement("tr",{key:t},f.default.createElement("td",{colSpan:3},f.default.createElement("p",{className:"error"},n)))}))),f.default.createElement("div",{className:"share-list-container"},f.default.createElement("table",{className:"table-thead-hidden"},f.default.createElement("thead",null,f.default.createElement("tr",null,f.default.createElement("th",{width:"50%"},(0,Z.gettext)("Group")),f.default.createElement("th",{width:"35%"},(0,Z.gettext)("Permission")),f.default.createElement("th",{width:"15%"}))),f.default.createElement(D,{items:this.state.sharedItems,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission}))))}}]),t}(f.default.Component);J.propTypes=P,t.default=J},2373:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(4),h=n(3),g=n(6),Y=a(g),S={itemName:f.default.string.isRequired,toggleDialog:f.default.func.isRequired,repoID:f.default.string.isRequired},Z=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submit=function(){var e=n.state.keepDays;n.state.autoHistory&&(e=n.state.expireDays);var t=n.props.repoID;if(/^-?\d+$/.test(e)){var a=(0,p.gettext)("Successfully set library history.");m.seafileAPI.sysAdminUpdateRepoHistorySetting(t,e).then(function(e){Y.default.success(a),n.setState({keepDays:e.data.keep_days}),n.props.toggleDialog()}).catch(function(e){var t=h.Utils.getErrorMsg(e);Y.default.danger(t)})}else n.setState({errorInfo:(0,p.gettext)("Please enter a non-negative integer")})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.submit(),e.preventDefault())},n.onChange=function(e){var t=e.target.value;n.setState({keepDays:t,expireDays:t})},n.setLimitDays=function(e){"allHistory"===e?n.setState({keepDays:-1}):"noHistory"===e?n.setState({keepDays:0}):n.setState({disabled:!1}),n.setState({allHistory:"allHistory"===e,noHistory:"noHistory"===e,autoHistory:"autoHistory"===e})},n.state={keepDays:-1,expireDays:30,disabled:!0,allHistory:!0,noHistory:!1,autoHistory:!1,errorInfo:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;m.seafileAPI.sysAdminGetRepoHistorySetting(this.props.repoID).then(function(t){e.setState({keepDays:t.data.keep_days,allHistory:t.data.keep_days<0,noHistory:0===t.data.keep_days,autoHistory:t.data.keep_days>0,disabled:!(t.data.keep_days>0),expireDays:t.data.keep_days>0?t.data.keep_days:30})}).catch(function(e){var t=h.Utils.getErrorMsg(e);Y.default.danger(t)})}},{key:"render",value:function(){var e=this,t=this.props.itemName;return u.default.createElement(d.Modal,{isOpen:!0},u.default.createElement(d.ModalHeader,{toggle:this.props.toggleDialog},u.default.createElement("span",{className:"op-target",title:t},t)," ",(0,p.gettext)("History Setting")),u.default.createElement(d.ModalBody,null,u.default.createElement(d.Form,null,u.default.createElement(d.FormGroup,{check:!0},u.default.createElement(d.Input,{type:"radio",name:"radio1",checked:this.state.allHistory,onChange:function(){e.setLimitDays("allHistory")}})," ",u.default.createElement(d.Label,null,(0,p.gettext)("Keep full history"))),u.default.createElement(d.FormGroup,{check:!0},u.default.createElement(d.Input,{type:"radio",name:"radio1",checked:this.state.noHistory,onChange:function(){e.setLimitDays("noHistory")}})," ",u.default.createElement(d.Label,null,(0,p.gettext)("Don't keep history"))),u.default.createElement(d.FormGroup,{check:!0},u.default.createElement(d.Input,{type:"radio",name:"radio1",checked:this.state.autoHistory,onChange:function(){e.setLimitDays("autoHistory")}})," ",u.default.createElement(d.Label,null,(0,p.gettext)("Only keep a period of history:")),u.default.createElement(d.Input,{type:"text",className:"expire-input",value:this.state.expireDays,onChange:this.onChange,disabled:this.state.disabled,onKeyDown:this.handleKeyPress})," ",u.default.createElement(d.Label,null,u.default.createElement("span",null,(0,p.gettext)("days")))),this.state.errorInfo&&u.default.createElement(d.Alert,{color:"danger"},this.state.errorInfo))),u.default.createElement(d.ModalFooter,null,u.default.createElement(d.Button,{color:"secondary",onClick:this.props.toggleDialog},(0,p.gettext)("Cancel")),u.default.createElement(d.Button,{color:"primary",onClick:this.submit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);Z.propTypes=S,t.default=Z},2374:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(41),h=a(m),g={createRepo:f.default.func.isRequired,toggleDialog:f.default.func.isRequired},Y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRepoNameChange=function(e){e.target.value.trim()?n.setState({isSubmitBtnActive:!0}):n.setState({isSubmitBtnActive:!1}),n.setState({repoName:e.target.value})},n.handleSubmit=function(){var e=n.state,t=e.repoName,a=e.ownerEmail;n.props.createRepo(t.trim(),a),n.toggle()},n.handleSelectChange=function(e){n.setState({ownerEmail:e?e.email:""})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.toggle=function(){n.props.toggleDialog()},n.state={repoName:"",ownerEmail:"",errMessage:"",isSubmitBtnActive:!1},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus()}},{key:"render",value:function(){var e=this;return u.default.createElement(d.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(d.ModalHeader,{toggle:this.toggle},(0,p.gettext)("New Library")),u.default.createElement(d.ModalBody,null,u.default.createElement(d.Form,null,u.default.createElement(d.FormGroup,null,u.default.createElement(d.Label,{for:"repoName"},(0,p.gettext)("Name")),u.default.createElement(d.Input,{id:"repoName",onKeyPress:this.handleKeyPress,innerRef:function(t){e.newInput=t},value:this.state.repoName,onChange:this.handleRepoNameChange})),u.default.createElement(d.FormGroup,null,u.default.createElement(d.Label,{for:"userSelect"},(0,p.gettext)("Owner"),u.default.createElement("span",{className:"small text-secondary"},(0,p.gettext)("(If left blank, owner will be admin)"))),u.default.createElement(h.default,{id:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:(0,p.gettext)("Select a user"),onSelectChange:this.handleSelectChange}))),this.state.errMessage&&u.default.createElement(d.Alert,{color:"danger"},this.state.errMessage)),u.default.createElement(d.ModalFooter,null,u.default.createElement(d.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(d.Button,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);Y.propTypes=g,t.default=Y},2375:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(3),h={repo:f.default.object.isRequired,onFreezedItem:f.default.func.isRequired,onUnfreezedItem:f.default.func.isRequired,onMenuItemClick:f.default.func.isRequired},g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMenuItemClick=function(e){var t=m.Utils.getEventData(e,"op");n.props.onMenuItemClick(t)},n.onDropdownToggleClick=function(e){n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():n.props.onUnfreezedItem()})},n.translateOperations=function(e){var t="";switch(e){case"Share":t=(0,p.gettext)("Share");break;case"Delete":t=(0,p.gettext)("Delete");break;case"Transfer":t=(0,p.gettext)("Transfer");break;case"History Setting":t=(0,p.gettext)("History Setting")}return t},n.state={isItemMenuShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.repo,n=["Delete","Transfer"];return t.encrypted||n.push("Share"),n.push("History Setting"),u.default.createElement(d.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(d.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle fa fa-ellipsis-v",title:(0,p.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow}),u.default.createElement(d.DropdownMenu,{className:"mt-2 mr-2"},n.map(function(t,n){return u.default.createElement(d.DropdownItem,{key:n,"data-op":t,onClick:e.onMenuItemClick},e.translateOperations(t))})))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},2376:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(43),f=(n(3),n(4)),d=n(2),p=n(6),m=(a(p),n(10)),h=a(m),g=n(98),Y=a(g),S=n(268),Z=a(S),L=n(1124),C=a(L),y=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,a=e.items;if(t)return u.default.createElement(h.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var r=u.default.createElement(Y.default,null,u.default.createElement("h2",null,(0,d.gettext)("No System Library."))),o=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"33%"},(0,d.gettext)("Name")),u.default.createElement("th",{width:"34%"},(0,d.gettext)("ID")),u.default.createElement("th",{width:"33%"},(0,d.gettext)("Description")))),u.default.createElement("tbody",null,a.map(function(e,t){return u.default.createElement(b,{key:t,item:e})}))));return a.length?o:r}}]),t}(s.Component),b=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(c.Link,{to:d.siteRoot+"sys/libraries/"+e.id+"/"},e.name)),u.default.createElement("td",null,e.id),u.default.createElement("td",null,e.description))}}]),t}(s.Component),E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:"",items:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.sysAdminGetSystemRepoInfo().then(function(t){var n=[];n.push(t.data),e.setState({items:n,loading:!1})}).catch(function(t){t.response?403==t.response.status?(e.setState({loading:!1,errorMsg:(0,d.gettext)("Permission denied")}),location.href=d.loginUrl+"?next="+encodeURIComponent(location.href)):e.setState({loading:!1,errorMsg:(0,d.gettext)("Error")}):e.setState({loading:!1,errorMsg:(0,d.gettext)("Please check the network.")})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(Z.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(C.default,{currentItem:"system"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(y,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.items})))))}}]),t}(s.Component);t.default=E},2377:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(5),f=n(4),d=n(2),p=n(6),m=a(p),h=n(3),g=n(98),Y=a(g),S=n(9),Z=a(S),L=n(10),C=a(L),y=n(1123),b=a(y),E=n(12),T=a(E),v=n(1374),D=a(v),P=n(1124),X=a(P),J=n(268),w=a(J),M=window.sysadmin.pageOptions.trashReposExpireDays,_=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page-1)},n.getNextPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.errorMsg,r=t.items,o=t.pageInfo;if(n)return u.default.createElement(C.default,null);if(a)return u.default.createElement("p",{className:"error text-center mt-4"},a);var i=u.default.createElement(Y.default,null,u.default.createElement("h2",null,(0,d.gettext)("No deleted libraries."))),l=u.default.createElement(s.Fragment,null,u.default.createElement("p",{className:"mt-4 small text-secondary"},(0,d.gettext)("Tip: libraries deleted {trashReposExpireDays} days ago will be cleaned automatically.").replace("{trashReposExpireDays}",M)),u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"40%"},(0,d.gettext)("Name")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("Owner")),u.default.createElement("th",{width:"20%"},(0,d.gettext)("Deleted Time")),u.default.createElement("th",{width:"10%"}))),u.default.createElement("tbody",null,r.map(function(t,n){return u.default.createElement(N,{key:n,repo:t,onDeleteRepo:e.props.onDeleteRepo,onRestoreRepo:e.props.onRestoreRepo})}))),u.default.createElement(b.default,{gotoPreviousPage:this.getPreviousPageList,gotoNextPage:this.getNextPageList,currentPage:o.current_page,hasNextPage:o.has_next_page,canResetPerPage:!1}));return r.length?l:i}}]),t}(s.Component),N=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDeleteRepo=function(){var e=n.props.repo;f.seafileAPI.sysAdminDeleteTrashRepo(e.id).then(function(t){n.props.onDeleteRepo(e);var a=(0,d.gettext)("Successfully deleted {name}.").replace("{name}",e.name);m.default.success(a)}).catch(function(e){var t=h.Utils.getErrorMsg(e);m.default.danger(t)})},n.onRestoreRepo=function(){var e=n.props.repo;f.seafileAPI.sysAdminRestoreTrashRepo(e.id).then(function(t){n.props.onRestoreRepo(e);var a=(0,d.gettext)("Successfully restored the library.");m.default.success(a)}).catch(function(e){var t=h.Utils.getErrorMsg(e);m.default.danger(t)})},n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.toggleDeleteRepoDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteRepoDialogOpen:!n.state.isDeleteRepoDialogOpen})},n.toggleRestoreRepoDialog=function(e){e&&e.preventDefault(),n.setState({isRestoreRepoDialogOpen:!n.state.isRestoreRepoDialogOpen})},n.state={isOpIconShown:!1,isDeleteRepoDialogOpen:!1,isRestoreRepoDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t=this.state,n=t.isOpIconShown,a=t.isDeleteRepoDialogOpen,r=t.isRestoreRepoDialogOpen,o=h.Utils.getLibIconUrl(e),i=h.Utils.getLibIconTitle(e),l='<span class="op-target">'+h.Utils.HTMLescape(e.name)+"</span>";return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement("img",{src:o,title:i,alt:i,width:"24"})),u.default.createElement("td",null,e.name),u.default.createElement("td",null,-1==e.owner.indexOf("@seafile_group")?u.default.createElement("a",{href:d.siteRoot+"useradmin/info/"+encodeURIComponent(e.owner)+"/"},e.owner_name):e.group_name),u.default.createElement("td",null,(0,Z.default)(e.delete_time).fromNow()),u.default.createElement("td",null,n&&u.default.createElement(s.Fragment,null,u.default.createElement("a",{href:"#",className:"op-icon sf2-icon-reply",title:(0,d.gettext)("Restore"),onClick:this.toggleRestoreRepoDialog}),u.default.createElement("a",{href:"#",className:"op-icon sf2-icon-delete",title:(0,d.gettext)("Delete"),onClick:this.toggleDeleteRepoDialog})))),a&&u.default.createElement(T.default,null,u.default.createElement(D.default,{title:(0,d.gettext)("Delete Library"),message:(0,d.gettext)("Are you sure you want to delete {repo_name} completely?").replace("{repo_name}",l),executeOperation:this.onDeleteRepo,confirmBtnText:(0,d.gettext)("Delete"),toggleDialog:this.toggleDeleteRepoDialog})),r&&u.default.createElement(T.default,null,u.default.createElement(D.default,{title:(0,d.gettext)("Restore Library"),message:(0,d.gettext)("Are you sure you want to restore %s ?").replace("%s",l),executeOperation:this.onRestoreRepo,confirmBtnText:(0,d.gettext)("Restore"),toggleDialog:this.toggleRestoreRepoDialog})))}}]),t}(s.Component),H=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCleanTrashDialog=function(){n.setState({isCleanTrashDialogOpen:!n.state.isCleanTrashDialogOpen})},n.getReposByPage=function(e){var t=n.state.perPage;f.seafileAPI.sysAdminListTrashRepos(e,t).then(function(e){n.setState({repos:e.data.repos,pageInfo:e.data.page_info,loading:!1})}).catch(function(e){var t=h.Utils.getErrorMsg(e);m.default.danger(t)})},n.onDeleteRepo=function(e){var t=n.state.repos.filter(function(t){return t.id!=e.id});n.setState({repos:t})},n.onRestoreRepo=function(e){var t=n.state.repos.filter(function(t){return t.id!=e.id});n.setState({repos:t})},n.cleanTrash=function(){f.seafileAPI.sysAdminCleanTrashRepos().then(function(e){n.setState({repos:[]}),m.default.success((0,d.gettext)("Successfully cleared trash."))}).catch(function(e){var t=h.Utils.getErrorMsg(e);m.default.danger(t)})},n.state={loading:!0,errorMsg:"",repos:[],pageInfo:{},perPage:100,isCleanTrashDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.getReposByPage(1)}},{key:"render",value:function(){var e=this.state.isCleanTrashDialogOpen;return u.default.createElement(s.Fragment,null,this.state.repos.length?u.default.createElement(w.default,null,u.default.createElement(c.Button,{className:"operation-item",onClick:this.toggleCleanTrashDialog},(0,d.gettext)("Clean"))):u.default.createElement(w.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(X.default,{currentItem:"trash"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(_,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repos,pageInfo:this.state.pageInfo,onDeleteRepo:this.onDeleteRepo,onRestoreRepo:this.onRestoreRepo,getListByPage:this.getReposByPage})))),e&&u.default.createElement(D.default,{title:(0,d.gettext)("Clear Trash"),message:(0,d.gettext)("Are you sure you want to clear trash?"),executeOperation:this.cleanTrash,confirmBtnText:(0,d.gettext)("Clear"),toggleDialog:this.toggleCleanTrashDialog}))}}]),t}(s.Component);t.default=H},2378:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(5),f=n(647),d=n(3),p=n(4),m=n(2),h=n(6),g=a(h),Y=n(266),S=a(Y),Z=n(2379),L=a(Z),C=n(268),y=a(C),b=n(2380),E=a(b),T=n(2381),v=a(T),D=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onPathClick=function(e){n.loadDirentList(e)},n.toggleNewFolderDialog=function(){n.setState({isNewFolderDialogOpen:!n.state.isNewFolderDialogOpen})},n.createNewFolder=function(e){var t=d.Utils.getFileName(e);p.seafileAPI.sysAdminCreateSysRepoFolder(n.props.repoID,n.state.path,t).then(function(e){var t=new L.default(e.data),a=n.state.direntList;a.unshift(t),n.setState({direntList:a}),n.toggleNewFolderDialog()}).catch(function(e){var t=d.Utils.getErrorMsg(e);g.default.danger(t)})},n.openFolder=function(e){var t=d.Utils.joinPath(n.state.path,e.name);e.is_file||n.loadDirentList(t)},n.loadDirentList=function(e){var t=n.props.repoID;p.seafileAPI.sysAdminListRepoDirents(t,e).then(function(a){var r=a.data,o=r.is_system_library,i=r.repo_name,l=r.dirent_list,s=[];l.forEach(function(e){var t=new L.default(e);s.push(t)}),n.setState({loading:!1,repoName:i,isSystemRepo:o,direntList:s,path:e},function(){var a=m.siteRoot+"sys/libraries/"+t+"/"+encodeURIComponent(n.state.repoName)+d.Utils.encodePath(e);window.history.replaceState({url:a,path:e},e,a)})}).catch(function(e){e.response?403==e.response.status?(n.setState({loading:!1,errorMsg:(0,m.gettext)("Permission denied")}),location.href=m.loginUrl+"?next="+encodeURIComponent(location.href)):n.setState({loading:!1,errorMsg:(0,m.gettext)("Error")}):n.setState({loading:!1,errorMsg:(0,m.gettext)("Please check the network.")})})},n.deleteDirent=function(e){var t=d.Utils.joinPath(n.state.path,e.name);p.seafileAPI.sysAdminDeleteRepoDirent(n.props.repoID,t).then(function(t){g.default.success((0,m.gettext)("Successfully deleted 1 item."));var a=n.state.direntList.filter(function(t){return t.name!=e.name});n.setState({direntList:a})}).catch(function(e){var t=d.Utils.getErrorMsg(e);g.default.danger(t)})},n.downloadDirent=function(e){var t=d.Utils.joinPath(n.state.path,e.name);p.seafileAPI.sysAdminGetRepoFileDownloadURL(n.props.repoID,t).then(function(e){location.href=e.data.download_url}).catch(function(e){var t=d.Utils.getErrorMsg(e);g.default.danger(t)})},n.openFileInput=function(){n.fileInput.current.click()},n.onFileInputChange=function(){if(n.fileInput.current.files.length){var e=n.fileInput.current.files[0],t=n.state.path;p.seafileAPI.sydAdminGetSysRepoItemUploadURL(t).then(function(a){var r=new FormData;r.append("parent_dir",t),r.append("file",e),(0,f.post)(a.data.upload_link,r).then(function(e){var t=e.data[0],a=new L.default({is_file:!0,obj_name:t.name,file_size:d.Utils.bytesToSize(t.size),last_update:(new Date).getTime()}),r=n.state.direntList,o=r.filter(function(e){return!e.is_file});r.splice(o.length,0,a),n.setState({direntList:r})})}).catch(function(e){var t=d.Utils.getErrorMsg(e);g.default.danger(t)})}},n.checkDuplicatedName=function(e){return n.state.direntList.some(function(t){return t.name===e})},n.fileInput=u.default.createRef(),n.state={loading:!0,errorMsg:"",isSystemRepo:!1,repoName:"",path:"",direntList:[],isNewFolderDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.loadDirentList("/")}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.errorMsg,a=e.repoName,r=e.direntList,o=e.isSystemRepo,i=e.path,l=e.isNewFolderDialogOpen,f=this.props.repoID;return u.default.createElement(s.Fragment,null,o?u.default.createElement(y.default,null,u.default.createElement(s.Fragment,null,u.default.createElement("input",{className:"d-none",type:"file",onChange:this.onFileInputChange,ref:this.fileInput}),u.default.createElement(c.Button,{className:"operation-item",onClick:this.openFileInput},(0,m.gettext)("Upload")),u.default.createElement(c.Button,{className:"operation-item",onClick:this.toggleNewFolderDialog},(0,m.gettext)("New Folder")))):u.default.createElement(y.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path align-items-center"},u.default.createElement(E.default,{isSystemRepo:o,repoID:f,repoName:a,currentPath:i,onPathClick:this.onPathClick})),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(v.default,{loading:t,errorMsg:n,fromSystemRepo:o,direntList:r,openFolder:this.openFolder,deleteDirent:this.deleteDirent,downloadDirent:this.downloadDirent})))),l&&u.default.createElement(S.default,{parentPath:i,checkDuplicatedName:this.checkDuplicatedName,onAddFolder:this.createNewFolder,addFolderCancel:this.toggleNewFolderDialog}))}}]),t}(s.Component);t.default=D},2379:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(t){a(this,e),this.name=t.obj_name,this.mtime=t.last_update,this.size=t.file_size,this.is_file=t.is_file}return r(e,[{key:"isDir",value:function(){return!this.is_file}}]),e}();t.default=o},2380:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(2),p=n(3),m={repoName:f.default.string.isRequired,currentPath:f.default.string.isRequired,onPathClick:f.default.func.isRequired,repoID:f.default.string.isRequired},h=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.onPathClick=function(e){var t=p.Utils.getEventData(e,"path");a.props.onPathClick(t)},a.turnPathToLink=function(e){e="/"===e[e.length-1]?e.slice(0,e.length-1):e;var t=e.split("/"),n="";return t.map(function(e,r){if(""!==e)return r===t.length-1?u.default.createElement(s.Fragment,{key:r},u.default.createElement("span",{className:"path-split"},"/"),u.default.createElement("span",{className:"path-file-name"},e)):(n+="/"+e,u.default.createElement(s.Fragment,{key:r},u.default.createElement("span",{className:"path-split"},"/"),u.default.createElement("a",{className:"path-link","data-path":n,onClick:a.onPathClick},e)))})},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isSystemRepo,n=e.currentPath,a=e.repoName,r=this.turnPathToLink(n);return u.default.createElement("div",{className:"path-container"},t?u.default.createElement("a",{href:d.siteRoot+"sys/system-library/"},(0,d.gettext)("System")):u.default.createElement("a",{href:d.siteRoot+"sys/all-libraries/"},(0,d.gettext)("All")),u.default.createElement("span",{className:"path-split"},"/"),"/"===n||""===n?u.default.createElement("span",{className:"path-repo-name"},a):u.default.createElement("a",{className:"path-link","data-path":"/",onClick:this.onPathClick},a),r)}}]),t}(u.default.Component);h.propTypes=m,t.default=h},2381:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(43),p=n(9),m=a(p),h=n(2),g=n(3),Y=n(10),S=a(Y),Z=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.openFolder=function(){n.props.openFolder(n.props.dirent)},n.deleteDirent=function(e){e.preventDefault(),n.props.deleteDirent(n.props.dirent)},n.downloadDirent=function(e){e.preventDefault(),n.props.downloadDirent(n.props.dirent)},n.state={isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.isOpIconShown,n=(e.isDeleteDialogOpen,this.props),a=n.dirent,r=n.fromSystemRepo,o=g.Utils.getDirentIcon(a);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",{className:"text-center"},u.default.createElement("img",{src:o,width:"24",alt:""})),u.default.createElement("td",null,a.is_file?a.name:u.default.createElement(d.Link,{to:"#",onClick:this.openFolder},a.name)),u.default.createElement("td",null,t&&r&&u.default.createElement("a",{href:"#",className:"op-icon sf2-icon-delete",title:(0,h.gettext)("Delete"),onClick:this.deleteDirent}),t&&a.is_file&&u.default.createElement("a",{href:"#",className:"op-icon sf2-icon-download",title:(0,h.gettext)("Download"),onClick:this.downloadDirent})),u.default.createElement("td",null,a.size),u.default.createElement("td",null,(0,m.default)(a.mtime).fromNow())))}}]),t}(u.default.Component),L={direntList:f.default.array.isRequired},C=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.errorMsg,r=t.direntList;return n?u.default.createElement(S.default,null):a?u.default.createElement("p",{className:"error text-center mt-4"},a):u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"55%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"10%"}),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Size")),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Last Update")))),u.default.createElement("tbody",null,r.map(function(t,n){return u.default.createElement(Z,{key:n,dirent:t,openFolder:e.props.openFolder,deleteDirent:e.props.deleteDirent,downloadDirent:e.props.downloadDirent,fromSystemRepo:e.props.fromSystemRepo})}))))}}]),t}(u.default.Component);C.propTypes=L,t.default=C},2382:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(3),f=n(4),d=n(2),p=n(10),m=a(p),h=n(6),g=a(h),Y=n(268),S=a(Y),Z=n(2383),L=a(Z),C=n(2384),y=a(C),b=n(2385),E=a(b),T=n(2386),v=a(T);n(2387);var D=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveSetting=function(e,t){f.seafileAPI.sysAdminSetSysSettingInfo(e,t).then(function(e){n.setState({config_dict:e.data}),g.default.success((0,d.gettext)("Success"))}).catch(function(e){var t=c.Utils.getErrorMsg(e);g.default.danger(t)})},n.postFile=function(e,t){var a=void 0;"Logo"==t?a=f.seafileAPI.sysAdminUpdateLogo(e):"Favicon"==t?a=f.seafileAPI.sysAdminUpdateFavicon(e):"loginBGImage"==t&&(a=f.seafileAPI.sysAdminUpdateLoginBG(e)),a.then(function(e){"Logo"==t?n.setState({logoPath:e.data.logo_path}):"Favicon"==t?n.setState({faviconPath:e.data.favicon_path}):"loginBGImage"==t&&n.setState({loginBGPath:e.data.login_bg_image_path}),g.default.success((0,d.gettext)("Success"))}).catch(function(e){var t=c.Utils.getErrorMsg(e);g.default.danger(t)})},n.state={loading:!0,errorMsg:"",config_dict:null,logoPath:d.mediaUrl+d.logoPath,faviconPath:d.mediaUrl+d.faviconPath,loginBGPath:d.mediaUrl+d.loginBGPath},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.sysAdminGetSysSettingInfo().then(function(t){e.setState({loading:!1,config_dict:t.data})}).catch(function(t){t.response?403==t.response.status?(e.setState({loading:!1,errorMsg:(0,d.gettext)("Permission denied")}),location.href=d.loginUrl+"?next="+encodeURIComponent(location.href)):e.setState({loading:!1,errorMsg:(0,d.gettext)("Error")}):e.setState({loading:!1,errorMsg:(0,d.gettext)("Please check the network.")})})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.errorMsg,a=e.config_dict,r=e.logoPath,o=e.faviconPath,i=e.loginBGPath;return u.default.createElement(s.Fragment,null,u.default.createElement(S.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,d.gettext)("Settings"))),u.default.createElement("div",{className:"cur-view-content container"},t&&u.default.createElement(m.default,null),n&&u.default.createElement("p",{className:"error text-center mt-4"},n),!t&&!n&&a&&u.default.createElement(s.Fragment,null,u.default.createElement("p",{className:"small text-secondary my-4"},(0,d.gettext)("Note: Settings via web interface are saved in database table (seahub-db/constance_config). They have a higher priority over the settings in config files.")),u.default.createElement(L.default,{headingText:"URL"},u.default.createElement(s.Fragment,null,u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:"SERVICE_URL",keyText:"SERVICE_URL",value:a.SERVICE_URL,helpTip:(0,d.gettext)("The URL of the server, like https://seafile.example.com or http://192.168.1.2:8000")}),u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:"FILE_SERVER_ROOT",keyText:"FILE_SERVER_ROOT",value:a.FILE_SERVER_ROOT,helpTip:(0,d.gettext)("The internal URL for downloading/uploading files. Users will not be able to download/upload files if this is not set correctly. If you config Seafile behind Nginx/Apache, it should be SERVICE_URL/seafhttp, like https://seafile.example.com/seafhttp .")}))),u.default.createElement(L.default,{headingText:(0,d.gettext)("Branding")},u.default.createElement(s.Fragment,null,u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:"SITE_TITLE",keyText:"SITE_TITLE",value:a.SITE_TITLE,helpTip:(0,d.gettext)("Site title shown in a browser tab")}),u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:"SITE_NAME",keyText:"SITE_NAME",value:a.SITE_NAME,helpTip:(0,d.gettext)("Site name used in email sending")}),u.default.createElement(E.default,{postFile:this.postFile,displayName:"Logo",keyText:"Logo",filePath:r,fileWidth:256,fileHeight:64,helpTip:"logo.png, 256px * 64px"}),u.default.createElement(E.default,{postFile:this.postFile,displayName:"Favicon",keyText:"Favicon",filePath:o,fileWidth:32,fileHeight:32,helpTip:"favicon.ico, 32px * 32px"}),u.default.createElement(E.default,{postFile:this.postFile,displayName:(0,d.gettext)("Login Background Image"),keyText:"loginBGImage",filePath:i,fileWidth:240,fileHeight:160,helpTip:"login-bg.jpg, 2400px * 1600px"}),u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"ENABLE_BRANDING_CSS",keyText:"ENABLE_BRANDING_CSS",value:a.ENABLE_BRANDING_CSS,helpTip:(0,d.gettext)("Use custom CSS")}),u.default.createElement(y.default,{inputType:"textarea",saveSetting:this.saveSetting,displayName:(0,d.gettext)("Custom CSS"),keyText:"CUSTOM_CSS",value:a.CUSTOM_CSS,helpTip:""}))),u.default.createElement(L.default,{headingText:(0,d.gettext)("User")},u.default.createElement(s.Fragment,null,u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:(0,d.gettext)("allow new registrations"),keyText:"ENABLE_SIGNUP",value:a.ENABLE_SIGNUP,helpTip:(0,d.gettext)("Allow new user registrations. Uncheck this to prevent anyone from creating a new account.")}),u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:(0,d.gettext)("activate after registration"),keyText:"ACTIVATE_AFTER_REGISTRATION",value:a.ACTIVATE_AFTER_REGISTRATION,helpTip:(0,d.gettext)("Activate user immediately after registration. If unchecked, a user need to be activated by administrator or via activation email")}),u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:(0,d.gettext)("send activation email"),keyText:"REGISTRATION_SEND_MAIL",value:a.REGISTRATION_SEND_MAIL,helpTip:(0,d.gettext)("Send activation Email after user registration.")}),u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:(0,d.gettext)("keep sign in"),keyText:"LOGIN_REMEMBER_DAYS",value:a.LOGIN_REMEMBER_DAYS,helpTip:(0,d.gettext)("Number of days that keep user sign in.")}),u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:"LOGIN_ATTEMPT_LIMIT",keyText:"LOGIN_ATTEMPT_LIMIT",value:a.LOGIN_ATTEMPT_LIMIT,helpTip:(0,d.gettext)("The maximum number of failed login attempts before showing CAPTCHA.")}),u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"FREEZE_USER_ON_LOGIN_FAILED",keyText:"FREEZE_USER_ON_LOGIN_FAILED",value:a.FREEZE_USER_ON_LOGIN_FAILED,helpTip:(0,d.gettext)("Freeze user account when failed login attempts exceed limit.")}))),u.default.createElement(L.default,{headingText:(0,d.gettext)("Groups")},u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"ENABLE_SHARE_TO_ALL_GROUPS",keyText:"ENABLE_SHARE_TO_ALL_GROUPS",value:a.ENABLE_SHARE_TO_ALL_GROUPS,helpTip:(0,d.gettext)("Enable users to share libraries to any groups in the system.")})),u.default.createElement(L.default,{headingText:(0,d.gettext)("Password")},u.default.createElement(s.Fragment,null,u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"strong password",keyText:"USER_STRONG_PASSWORD_REQUIRED",value:a.USER_STRONG_PASSWORD_REQUIRED,helpTip:(0,d.gettext)("Force user to use a strong password when sign up or change password.")}),u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"force password change",keyText:"FORCE_PASSWORD_CHANGE",value:a.FORCE_PASSWORD_CHANGE,helpTip:(0,d.gettext)("Force user to change password when account is newly added or reset by admin")}),u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:(0,d.gettext)("password minimum length"),keyText:"USER_PASSWORD_MIN_LENGTH",value:a.USER_PASSWORD_MIN_LENGTH,helpTip:(0,d.gettext)("The least number of characters an account password should include.")}),u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:(0,d.gettext)("password strength level"),keyText:"USER_PASSWORD_STRENGTH_LEVEL",value:a.USER_PASSWORD_STRENGTH_LEVEL,helpTip:(0,d.gettext)("The level(1-4) of an account password's strength. For example, '3' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols")}),u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"enable two factor authentication",keyText:"ENABLE_TWO_FACTOR_AUTH",value:a.ENABLE_TWO_FACTOR_AUTH,helpTip:(0,d.gettext)("Enable two factor authentication")}))),u.default.createElement(L.default,{headingText:(0,d.gettext)("Library")},u.default.createElement(s.Fragment,null,u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"library history",keyText:"ENABLE_REPO_HISTORY_SETTING",value:a.ENABLE_REPO_HISTORY_SETTING,helpTip:(0,d.gettext)("Allow user to change library history settings")}),u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"encrypted library",keyText:"ENABLE_ENCRYPTED_LIBRARY",value:a.ENABLE_ENCRYPTED_LIBRARY,helpTip:(0,d.gettext)("Allow user to create encrypted libraries")}),u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:(0,d.gettext)("library password minimum length"),keyText:"REPO_PASSWORD_MIN_LENGTH",value:a.REPO_PASSWORD_MIN_LENGTH,helpTip:(0,d.gettext)("The least number of characters an encrypted library password should include.")}),u.default.createElement(y.default,{saveSetting:this.saveSetting,displayName:(0,d.gettext)("download/upload link password minimum length"),keyText:"SHARE_LINK_PASSWORD_MIN_LENGTH",value:a.SHARE_LINK_PASSWORD_MIN_LENGTH,helpTip:(0,d.gettext)("The least number of characters a download/upload link password should include.")}),u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"ENABLE_USER_CREATE_ORG_REPO",keyText:"ENABLE_USER_CREATE_ORG_REPO",value:a.ENABLE_USER_CREATE_ORG_REPO,helpTip:(0,d.gettext)("Allow user to add organization libraries. Otherwise, only system admin can add organization libraries.")}),u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"ENABLE_USER_CLEAN_TRASH",keyText:"ENABLE_USER_CLEAN_TRASH",value:a.ENABLE_USER_CLEAN_TRASH,helpTip:(0,d.gettext)("Allow user to clean library trash")}))),u.default.createElement(L.default,{headingText:(0,d.gettext)("Online Preview")},u.default.createElement(y.default,{inputType:"textarea",saveSetting:this.saveSetting,displayName:(0,d.gettext)("text file extensions"),keyText:"TEXT_PREVIEW_EXT",value:a.TEXT_PREVIEW_EXT,helpTip:(0,d.gettext)("Extensions of text files that can be online previewed, each suffix is separated by a comma.")})),u.default.createElement(L.default,{headingText:(0,d.gettext)("Sync")},u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"DISABLE_SYNC_WITH_ANY_FOLDER",keyText:"DISABLE_SYNC_WITH_ANY_FOLDER",value:a.DISABLE_SYNC_WITH_ANY_FOLDER,helpTip:(0,d.gettext)("If turn on, the desktop clients will not be able to sync a folder outside the default Seafile folder.")})),u.default.createElement(L.default,{headingText:(0,d.gettext)("Terms")},u.default.createElement(v.default,{saveSetting:this.saveSetting,displayName:"ENABLE_TERMS_AND_CONDITIONS",keyText:"ENABLE_TERMS_AND_CONDITIONS",value:a.ENABLE_TERMS_AND_CONDITIONS,helpTip:(0,d.gettext)("Enable system admin to add Terms and Conditions, and all users will have to accept the terms.")})))))))}}]),t}(s.Component);t.default=D},2383:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d={headingText:f.default.string.isRequired,children:f.default.object.isRequired},p=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.headingText,n=e.children;return u.default.createElement("div",{className:"mb-4"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},t),n)}}]),t}(s.Component);p.propTypes=d,t.default=p},2384:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(1125),h=a(m),g={inputType:f.default.string,saveSetting:f.default.func.isRequired,keyText:f.default.string.isRequired,value:f.default.oneOfType([f.default.string,f.default.number]),helpTip:f.default.string.isRequired,displayName:f.default.string.isRequired},Y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleBtns=function(){n.setState({isBtnsShown:!n.state.isBtnsShown})},n.hideBtns=function(e){n.state.isBtnsShown&&(n.props.value!=n.state.value&&n.setState({value:n.props.value}),n.toggleBtns())},n.onInputChange=function(e){n.setState({value:e.target.value})},n.onSubmit=function(e){var t=n.state.value.trim();t!=n.props.value&&n.props.saveSetting(n.props.keyText,t),n.toggleBtns()},n.state={isBtnsShown:!1,value:n.props.value},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.isBtnsShown,n=e.value,a=this.props,r=a.helpTip,o=a.displayName,i=a.inputType;return u.default.createElement(h.default,{displayName:o,helpTip:r,mainContent:u.default.createElement(d.Input,{type:i||"text",className:"textarea"==i?"web-setting-textarea":"",onChange:this.onInputChange,onFocus:this.toggleBtns,onBlur:this.hideBtns,value:n}),extraContent:t?u.default.createElement(s.Fragment,null,u.default.createElement(d.Button,{className:"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit",onMouseDown:this.onSubmit,title:(0,p.gettext)("Submit")}),u.default.createElement(d.Button,{className:"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel",title:(0,p.gettext)("Cancel")})):null})}}]),t}(s.Component);Y.propTypes=g,t.default=Y},2385:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(1125),h=a(m),g={postFile:f.default.func.isRequired,keyText:f.default.string.isRequired,filePath:f.default.string.isRequired,helpTip:f.default.string.isRequired,fileWidth:f.default.number.isRequired,fileHeight:f.default.number.isRequired,displayName:f.default.string.isRequired},Y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uploadFile=function(){if(n.fileInput.current.files.length){var e=n.fileInput.current.files[0];n.props.postFile(e,n.props.keyText)}},n.openFileInput=function(){n.fileInput.current.click()},n.fileInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.helpTip,n=e.filePath,a=e.fileWidth,r=e.fileHeight,o=e.displayName;return u.default.createElement(h.default,{displayName:o,helpTip:t,mainContent:u.default.createElement("img",{src:n+"?t="+(new Date).getTime(),alt:o,width:a,height:r,className:"mb-1"}),extraContent:u.default.createElement(s.Fragment,null,u.default.createElement(d.Button,{color:"secondary",onClick:this.openFileInput},(0,p.gettext)("Change")),u.default.createElement("input",{className:"d-none",type:"file",onChange:this.uploadFile,ref:this.fileInput}))})}}]),t}(s.Component);Y.propTypes=g,t.default=Y},2386:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(1125),m=a(p),h={saveSetting:f.default.func.isRequired,keyText:f.default.string.isRequired,value:f.default.oneOfType([f.default.bool,f.default.number]),helpTip:f.default.string.isRequired,displayName:f.default.string.isRequired},g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=function(e){var t=e.target.checked,a=t?1:0;n.setState({inputChecked:t}),n.props.saveSetting(n.props.keyText,a)},n.state={inputChecked:n.props.value},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.inputChecked,t=this.props,n=t.helpTip,a=t.displayName;return u.default.createElement(m.default,{displayName:a,mainContent:u.default.createElement(s.Fragment,null,u.default.createElement(d.Input,{className:"ml-0",checked:e,type:"checkbox",onChange:this.onInputChange}),u.default.createElement("p",{className:"ml-4"},n))})}}]),t}(s.Component);g.propTypes=h,t.default=g},2387:function(e,t){},2388:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(5),f=n(3),d=n(4),p=n(2),m=n(6),h=a(m),g=n(98),Y=a(g),S=n(10),Z=a(S),L=n(1374),C=a(L),y=n(2389),b=a(y),E=n(268),T=a(E),v=n(2390),D=a(v),P=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.errorMsg,r=t.items;if(n)return u.default.createElement(Z.default,null);if(a)return u.default.createElement("p",{className:"error text-center mt-4"},a);var o=u.default.createElement(Y.default,null,u.default.createElement("h2",null,(0,p.gettext)("No notifications"))),i=u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"95%"},(0,p.gettext)("Notification Detail")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,r.map(function(t,n){return u.default.createElement(X,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteNotification:e.props.deleteNotification,setToCurrent:e.props.setToCurrent})})));return r.length?i:o}}]),t}(s.Component),X=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.toggleDeleteDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.deleteNotification=function(){n.props.deleteNotification(n.props.item.id),n.toggleDeleteDialog()},n.setToCurrent=function(){n.props.setToCurrent(n.props.item.id)},n.onMenuItemClick=function(e){switch(e){case"Set to current":n.setToCurrent();break;case"Delete":n.toggleDeleteDialog()}},n.state={isOpIconShown:!1,highlight:!1,isDeleteDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,a=t.isDeleteDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,e.msg,e.is_current&&u.default.createElement("span",{className:"small text-orange"},(0,p.gettext)("(current notification)"))),u.default.createElement("td",null,n&&u.default.createElement(D.default,{item:e,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),a&&u.default.createElement(C.default,{title:(0,p.gettext)("Delete Notification"),message:(0,p.gettext)("Are you sure you want to delete the notification ?"),toggleDialog:this.toggleDeleteDialog,executeOperation:this.deleteNotification,confirmBtnText:(0,p.gettext)("Delete")}))}}]),t}(s.Component),J=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleAddNotificationDialog=function(){n.setState({isAddNotificationDialogOpen:!n.state.isAddNotificationDialogOpen})},n.addNotification=function(e){d.seafileAPI.sysAdminAddSysNotification(e).then(function(e){var t=n.state.notificationList;t.unshift(e.data.notification),n.setState({notificationList:t})}).catch(function(e){var t=f.Utils.getErrorMsg(e);h.default.danger(t)})},n.deleteNotification=function(e){d.seafileAPI.sysAdminDeleteSysNotification(e).then(function(t){var a=n.state.notificationList.filter(function(t){return t.id!=e});n.setState({notificationList:a}),h.default.success((0,p.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=f.Utils.getErrorMsg(e);h.default.danger(t)})},n.setToCurrent=function(e){d.seafileAPI.sysAdminSetSysNotificationToCurrent(e).then(function(t){var a=n.state.notificationList.map(function(t){return t.id==e?t.is_current=!0:t.is_current=!1,t});n.setState({notificationList:a})}).catch(function(e){var t=f.Utils.getErrorMsg(e);h.default.danger(t)})},n.state={loading:!0,errorMsg:"",notificationList:[],isAddNotificationDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.sysAdminListAllSysNotifications().then(function(t){e.setState({loading:!1,notificationList:t.data.notifications})}).catch(function(t){t.response?403==t.response.status?(e.setState({loading:!1,errorMsg:(0,p.gettext)("Permission denied")}),location.href=p.loginUrl+"?next="+encodeURIComponent(location.href)):e.setState({loading:!1,errorMsg:(0,p.gettext)("Error")}):e.setState({loading:!1,errorMsg:(0,p.gettext)("Please check the network.")})})}},{key:"render",value:function(){var e=this.state.isAddNotificationDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(T.default,null,u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleAddNotificationDialog},(0,p.gettext)("Add new notification"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,p.gettext)("All Notifications"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(P,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.notificationList,deleteNotification:this.deleteNotification,setToCurrent:this.setToCurrent})))),e&&u.default.createElement(b.default,{addNotification:this.addNotification,toggle:this.toggleAddNotificationDialog}))}}]),t}(s.Component);t.default=J},2389:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m={toggle:f.default.func.isRequired,addNotification:f.default.func.isRequired},h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){var t=e.target.value;t.trim()?n.setState({isSubmitBtnActive:!0}):n.setState({isSubmitBtnActive:!1}),n.setState({value:t})},n.handleSubmit=function(){n.toggle(),n.props.addNotification(n.state.value.trim())},n.toggle=function(){n.props.toggle()},n.state={value:"",isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(d.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(d.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Add new notification")),u.default.createElement(d.ModalBody,null,u.default.createElement(d.Form,null,u.default.createElement(d.FormGroup,null,u.default.createElement(d.Input,{type:"textarea",value:this.state.value,onChange:this.handleChange})))),u.default.createElement(d.ModalFooter,null,u.default.createElement(d.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(d.Button,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},2390:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(3),h={item:f.default.object.isRequired,onFreezedItem:f.default.func.isRequired,onUnfreezedItem:f.default.func.isRequired,onMenuItemClick:f.default.func.isRequired},g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMenuItemClick=function(e){var t=m.Utils.getEventData(e,"op");n.props.onMenuItemClick(t)},n.onDropdownToggleClick=function(e){n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():n.props.onUnfreezedItem()})},n.translateOperations=function(e){var t="";switch(e){case"Set to current":t=(0,p.gettext)("Set to current");break;case"Delete":t=(0,p.gettext)("Delete")}return t},n.state={isItemMenuShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.item,n=[];return t.is_current||n.push("Set to current"),n.push("Delete"),u.default.createElement(d.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(d.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle fa fa-ellipsis-v",title:(0,p.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow}),u.default.createElement(d.DropdownMenu,{className:"mt-2 mr-2"},n.map(function(t,n){return u.default.createElement(d.DropdownItem,{key:n,"data-op":t,onClick:e.onMenuItemClick},e.translateOperations(t))})))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},2391:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(4),p=n(2),m=n(33),h=a(m),g={loading:f.default.bool.isRequired,errorMsg:f.default.string.isRequired,records:f.default.array.isRequired},Y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,a=e.records;return t?u.default.createElement("span",{className:"loading-icon loading-tip"}):n?u.default.createElement("p",{className:"error text-center"},n):u.default.createElement("table",{width:"100%",className:"table table-hover table-vcenter"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"16%"},(0,p.gettext)("Library")),u.default.createElement("th",{width:"30%"},"ID"),u.default.createElement("th",{width:"30%"},(0,p.gettext)("Path")),u.default.createElement("th",{width:"12%"},(0,p.gettext)("Label")),u.default.createElement("th",{width:"12%"},(0,p.gettext)("Suggestion")))),u.default.createElement("tbody",null,a.map(function(e,t){return u.default.createElement(Z,{key:t,record:e})})))}}]),t}(s.Component);Y.propTypes=g;var S={record:f.default.object.isRequired},Z=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.record;return u.default.createElement("tr",null,u.default.createElement("td",null,e.repo_name),u.default.createElement("td",null,e.repo_id),u.default.createElement("td",null,e.path),u.default.createElement("td",null,e.detail.label),u.default.createElement("td",null,e.detail.suggestion))}}]),t}(s.Component);Z.propTypes=S;var L=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:"",records:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.listFileScanRecords().then(function(t){e.setState({loading:!1,records:t.data.record_list})}).catch(function(t){t.response?403==t.response.status?(e.setState({loading:!1,errorMsg:(0,p.gettext)("Permission denied")}),location.href=p.loginUrl+"?next="+encodeURIComponent(location.href)):e.setState({loading:!1,errorMsg:(0,p.gettext)("Error")}):e.setState({loading:!1,errorMsg:(0,p.gettext)("Please check the network.")})})}},{key:"render",value:function(){return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"main-panel-north border-left-show"},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"})),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(h.default,{isAdminPanel:!0}))),u.default.createElement("div",{className:"main-panel-center"},u.default.createElement("div",{className:"cur-view-container",id:"content-scan-records"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,p.gettext)("Content Scan Records"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(Y,{loading:this.state.loading,errorMsg:this.state.errorMsg,records:this.state.records})))))}}]),t}(s.Component);t.default=L},2392:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(5),f=n(148),d=a(f),p=n(4),m=n(2),h=n(6),g=a(h),Y=n(33),S=a(Y),Z=n(2393),L=n(2396),C=a(L);n(2397);var y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDepartmentsTree=function(e){for(var t=[],n=[],a=0;a<e.length;a++)-1===t.indexOf(e[a].id)&&t.push(e[a].id),-1===n.indexOf(e[a].parentid)&&n.push(e[a].parentid);var r=n.filter(function(e){return-1!==t.indexOf(e)}),o=n.concat(r).filter(function(e){return-1===n.indexOf(e)||-1===r.indexOf(e)}),i=d.default.cloneDeep(e);return i.filter(function(e){var t=i.filter(function(t){return e.id===t.parentid});return t.length>0&&(e.children=t),-1!==o.indexOf(e.parentid)})},n.getWorkWeixinDepartmentsList=function(e){p.seafileAPI.adminListWorkWeixinDepartments(e).then(function(t){if(e)n.setState({importDepartmentChildrenCount:t.data.department.length,importDepartmentMembersCount:n.state.membersTempObj[e].length});else{var a=n.getDepartmentsTree(t.data.department);n.setState({isTreeLoading:!1,departmentsTree:a})}}).catch(function(e){n.handleError(e),n.setState({isTreeLoading:!1,isMembersListLoading:!1}),e.response&&403===e.response.status&&(window.location=m.siteRoot+"sys/useradmin/")})},n.getWorkWeixinDepartmentMembersList=function(e){n.setState({isMembersListLoading:!0}),p.seafileAPI.adminListWorkWeixinDepartmentMembers(e,{fetch_child:!0}).then(function(t){var a=n.state.membersTempObj;a[e]=t.data.userlist;var r=n.getCanCheckUserIds(t.data.userlist);n.setState({membersTempObj:a,membersList:t.data.userlist,isMembersListLoading:!1,canCheckUserIds:r})}).catch(function(e){n.setState({isMembersListLoading:!1}),n.handleError(e)})},n.getCanCheckUserIds=function(e){var t=[];return e.forEach(function(e){e.email||t.push(e.userid)}),t},n.onChangeDepartment=function(e){if(n.setState({newUsersTempObj:{},isCheckedAll:!1,checkedDepartmentId:e}),e in n.state.membersTempObj){var t=n.getCanCheckUserIds(n.state.membersTempObj[e]);n.setState({membersList:n.state.membersTempObj[e],canCheckUserIds:t})}else n.getWorkWeixinDepartmentMembersList(e)},n.onUserChecked=function(e){if(-1!==n.state.canCheckUserIds.indexOf(e.userid)){var t=n.state.newUsersTempObj;e.userid in t?(delete t[e.userid],n.state.isCheckedAll&&n.setState({isCheckedAll:!1})):(t[e.userid]=e,Object.keys(t).length===n.state.canCheckUserIds.length&&n.setState({isCheckedAll:!0})),n.setState({newUsersTempObj:t})}},n.onAllUsersChecked=function(){n.setState({isCheckedAll:!n.state.isCheckedAll},function(){if(n.state.isCheckedAll){for(var e={},t=n.state.membersList.filter(function(e){return-1!==n.state.canCheckUserIds.indexOf(e.userid)}),a=0;a<t.length;a++)e[t[a].userid]=t[a];n.setState({newUsersTempObj:e})}else n.setState({newUsersTempObj:{}})})},n.onSubmit=function(){var e=n.state.newUsersTempObj;if("{}"!==JSON.stringify(e)){var t=[];for(var a in e)t.push(e[a]);if(0===t.length)return void g.default.danger("\u672a\u9009\u62e9\u6210\u5458",{duration:3});p.seafileAPI.adminAddWorkWeixinUsersBatch(t).then(function(e){if(n.setState({newUsersTempObj:{},isCheckedAll:!1}),e.data.success&&n.handleSubmitSuccess(e.data.success),e.data.failed)for(var t=e.data.failed,a=0;a<t.length;a++)g.default.danger(t[a].name+" "+t[a].error_msg,{duration:3})}).catch(function(e){n.handleError(e)})}},n.handleSubmitSuccess=function(e){for(var t=n.state,a=t.membersTempObj,r=t.membersList,o=t.canCheckUserIds,i=0;i<e.length;i++){var l=e[i],s=l.userid,u=l.name,c=l.email;g.default.success(u+" \u6210\u529f\u5bfc\u5165",{duration:1}),-1!==o.indexOf(s)&&o.splice(o.indexOf(s),1);for(var f=0;f<r.length;f++)if(r[f].userid===s){r[f].email=c;break}for(var d in a)for(var p=0;p<a[d].length;p++)if(a[d][p].userid===s){a[d][p].email=c;break}}n.setState({membersTempObj:a,membersList:r,canCheckUserIds:o})},n.importDepartmentDialogToggle=function(e){n.setState({isImportDepartmentDialogShow:!n.state.isImportDepartmentDialogShow,importDepartment:e},function(){e&&n.getWorkWeixinDepartmentsList(e.id)})},n.onImportDepartmentSubmit=function(){var e=n.state.importDepartment;e&&p.seafileAPI.adminImportWorkWeixinDepartment(e.id).then(function(t){n.setState({isMembersListLoading:!0,checkedDepartmentId:e.id,membersTempObj:{},membersList:[],newUsersTempObj:{},isCheckedAll:!1,canCheckUserIds:[]}),n.getWorkWeixinDepartmentMembersList(e.id),n.importDepartmentDialogToggle(null),t.data.success&&n.handleImportDepartmentSubmitSuccess(t.data.success),t.data.failed&&n.handleImportDepartmentSubmitFailed(t.data.failed)}).catch(function(e){n.handleError(e)})},n.handleImportDepartmentSubmitSuccess=function(e){for(var t=0,n=e.length;t<n;t++){var a=e[t],r="department"===a.type?"\u90e8\u95e8 "+a.department_name+" \u5bfc\u5165\u6210\u529f":a.api_user_name+" \u5bfc\u5165\u6210\u529f";g.default.success(r,{duration:3})}},n.handleImportDepartmentSubmitFailed=function(e){for(var t=0,n=e.length;t<n;t++){var a=e[t],r="department"===a.type?a.department_name:a.api_user_name;g.default.danger(r+" "+a.msg,{duration:3})}},n.handleError=function(e){e.response?g.default.danger(e.response.data.error_msg||e.response.data.detail||(0,m.gettext)("Error"),{duration:3}):g.default.danger((0,m.gettext)("Please check the network."),{duration:3})},n.state={isTreeLoading:!0,isMembersListLoading:!0,departmentsTree:[],checkedDepartmentId:0,membersTempObj:{},membersList:[],newUsersTempObj:{},isCheckedAll:!1,canCheckUserIds:[],isImportDepartmentDialogShow:!1,importDepartment:null,importDepartmentChildrenCount:0,importDepartmentMembersCount:0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.getWorkWeixinDepartmentsList(null)}},{key:"renderNav",value:function(){var e="btn btn-secondary operation-item ";return u.default.createElement("div",{className:"main-panel-north border-left-show"},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"}),u.default.createElement(c.Button,{className:e+"my-1 d-md-none",onClick:this.onSubmit},"\u5bfc\u5165\u7528\u6237"),u.default.createElement(c.Button,{className:e+"hidden-md-up",onClick:this.onSubmit},"\u5bfc\u5165\u7528\u6237")),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(S.default,{isAdminPanel:!0})))}},{key:"render",value:function(){var e=this.state,t=e.isImportDepartmentDialogShow,n=e.isTreeLoading,a=e.importDepartment,r=e.importDepartmentChildrenCount,o=e.importDepartmentMembersCount,i=!(!m.isPro||!t||n||!a);return u.default.createElement(s.Fragment,null,this.renderNav(),u.default.createElement("div",{className:"main-panel-center"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},"\u4f01\u4e1a\u5fae\u4fe1\u96c6\u6210")),u.default.createElement("div",{className:"cur-view-content d-flex flex-row"},u.default.createElement(Z.WorkWeixinDepartmentsTreePanel,{departmentsTree:this.state.departmentsTree,isTreeLoading:this.state.isTreeLoading,onChangeDepartment:this.onChangeDepartment,checkedDepartmentId:this.state.checkedDepartmentId,importDepartmentDialogToggle:this.importDepartmentDialogToggle}),u.default.createElement("div",{className:"dir-content-resize"}),u.default.createElement(Z.WorkWeixinDepartmentMembersList,{isMembersListLoading:this.state.isMembersListLoading,membersList:this.state.membersList,checkedDepartmentId:this.state.checkedDepartmentId,newUsersTempObj:this.state.newUsersTempObj,onUserChecked:this.onUserChecked,onAllUsersChecked:this.onAllUsersChecked,isCheckedAll:this.state.isCheckedAll,canCheckUserIds:this.state.canCheckUserIds})))),i&&u.default.createElement(C.default,{importDepartmentDialogToggle:this.importDepartmentDialogToggle,onImportDepartmentSubmit:this.onImportDepartmentSubmit,departmentsCount:r,membersCount:o,departmentName:a.name}))}}]),t}(s.Component);t.default=y},2393:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkWeixinDepartmentsTreeNode=t.WorkWeixinDepartmentsTreePanel=t.WorkWeixinDepartmentMembersList=void 0;var r=n(2394),o=a(r),i=n(2395),l=a(i),s=n(1375),u=a(s);t.WorkWeixinDepartmentMembersList=o.default,t.WorkWeixinDepartmentsTreePanel=l.default,t.WorkWeixinDepartmentsTreeNode=u.default},2394:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(10),h=a(m),g={isMembersListLoading:f.default.bool.isRequired,membersList:f.default.array.isRequired,newUsersTempObj:f.default.object.isRequired,checkedDepartmentId:f.default.number.isRequired,onUserChecked:f.default.func.isRequired,onAllUsersChecked:f.default.func.isRequired,isCheckedAll:f.default.bool.isRequired,canCheckUserIds:f.default.array.isRequired},Y=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.newUsersTempObj,a=t.checkedDepartmentId,r=t.isMembersListLoading,o=t.canCheckUserIds,i=this.props.membersList.map(function(t,r){var o=t.avatar;return o=t.avatar.length>0?t.avatar.substring(0,t.avatar.length-1)+"100":p.siteRoot+"media/avatars/default.png",u.default.createElement("tr",{key:a.toString()+t.userid},u.default.createElement("td",null,!t.email&&u.default.createElement("input",{type:"checkbox",className:"vam",onChange:function(){return e.props.onUserChecked(t)},checked:t.userid in n?"checked":""})),u.default.createElement("td",null,u.default.createElement("img",{className:"avatar",src:o,alt:""})),u.default.createElement("td",null,t.name),u.default.createElement("td",null,t.mobile),u.default.createElement("td",null,t.contact_email),u.default.createElement("td",null,t.email&&u.default.createElement("i",{className:"sf2-icon-tick"})))});return u.default.createElement("div",{className:"dir-content-main"},r&&u.default.createElement(h.default,null),!r&&this.props.membersList.length>0&&u.default.createElement(d.Table,{hover:!0},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"},o.length>0&&u.default.createElement("input",{type:"checkbox",className:"vam",checked:this.props.isCheckedAll,onChange:function(){return e.props.onAllUsersChecked()}})),u.default.createElement("th",{width:"10%"}),u.default.createElement("th",{width:"20%"},"\u540d\u79f0"),u.default.createElement("th",{width:"20%"},"\u624b\u673a\u53f7"),u.default.createElement("th",{width:"30%"},"\u90ae\u7bb1"),u.default.createElement("th",{width:"15%"},"\u5df2\u6dfb\u52a0"))),u.default.createElement("tbody",null,i)),!r&&0===this.props.membersList.length&&u.default.createElement("div",{className:"message empty-tip text-center"},u.default.createElement("img",{src:p.siteRoot+"media/img/member-list-empty-2x.png",alt:""}),u.default.createElement("h4",null,"\u6210\u5458\u5217\u8868\u4e3a\u7a7a")))}}]),t}(s.Component);Y.propTypes=g,t.default=Y},2395:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(10),p=a(d),m=n(1375),h=a(m),g={isTreeLoading:f.default.bool.isRequired,departmentsTree:f.default.array.isRequired,onChangeDepartment:f.default.func.isRequired,checkedDepartmentId:f.default.number.isRequired,importDepartmentDialogToggle:f.default.func.isRequired},Y=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.departmentsTree;return u.default.createElement("div",{className:"dir-content-nav"},u.default.createElement("div",{className:"tree-view tree"},this.props.isTreeLoading?u.default.createElement(p.default,null):u.default.createElement("div",{className:"tree-node"},t.length>0&&t.map(function(t,n){return u.default.createElement(h.default,{key:t.id,index:n,department:t,isChildrenShow:!0,onChangeDepartment:e.props.onChangeDepartment,checkedDepartmentId:e.props.checkedDepartmentId,importDepartmentDialogToggle:e.props.importDepartmentDialogToggle})}))))}}]),t}(s.Component);Y.propTypes=g,t.default=Y},2396:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(10),m=a(p),h={importDepartmentDialogToggle:f.default.func.isRequired,onImportDepartmentSubmit:f.default.func.isRequired,departmentsCount:f.default.number.isRequired,membersCount:f.default.number.isRequired,departmentName:f.default.string.isRequired},g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.props.importDepartmentDialogToggle(null)},n.handleSubmit=function(){n.props.onImportDepartmentSubmit(),n.setState({isLoading:!0})},n.state={isLoading:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.departmentsCount,n=e.membersCount,a=e.departmentName;return u.default.createElement(d.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(d.ModalHeader,{toggle:this.toggle},u.default.createElement("span",null,"\u5bfc\u5165\u90e8\u95e8 "),u.default.createElement("span",{className:"op-target",title:a},a)),u.default.createElement(d.ModalBody,null,u.default.createElement("p",null,"\u5c06\u8981\u5bfc\u5165 ",u.default.createElement("strong",null,t)," \u4e2a\u90e8\u95e8\uff0c\u5176\u4e2d\u5305\u62ec ",u.default.createElement("strong",null,n)," \u4e2a\u6210\u5458"),this.state.isLoading&&u.default.createElement(m.default,null)),u.default.createElement(d.ModalFooter,null,u.default.createElement(d.Button,{color:"secondary",onClick:this.toggle},"\u53d6\u6d88"),u.default.createElement(d.Button,{color:"primary",onClick:this.handleSubmit},"\u5bfc\u5165")))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},2397:function(e,t){},24:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(11),f=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerStyle=(0,c.css)({borderRadius:"3px",backgroundColor:"#fff",padding:"10px 16px",display:"flex",boxSizing:"border-box",boxShadow:"rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px",justifyContent:"space-between",flexDirection:"row"}),n.containerBorderSuccess=(0,c.css)({borderLeft:"3px solid rgb(71, 184, 129)"}),n.containerBorderWarn=(0,c.css)({borderLeft:"3px solid rgb(217, 130, 43)"}),n.containerBorderDanger=(0,c.css)({borderLeft:"3px solid rgb(236, 76, 71)"}),n.containerBorderNotify=(0,c.css)({borderLeft:"3px solid rgb(16, 112, 202)"}),n.toastTextTitle=(0,c.css)({fontWeight:"600",fontSize:"14px",color:"#435a6f",margin:"0"}),n.toastTextChild=(0,c.css)({fontSize:"14px",color:"#999",margin:"0"}),n.toastClose=(0,c.css)({marginLeft:"15px",height:"24px",width:"24px",lineHeight:"22px",fontWeight:"700",textAlign:"center",fontSize:"20px",color:"#000",cursor:"pointer",opacity:"0.5",":hover":{opacity:1}}),n.toastIcon=(0,c.css)({marginRight:"10px",width:"14px",height:"20px",lineHeight:"20px"}),n}return o(t,e),l(t,[{key:"getContainerStyle",value:function(e){switch(e){case"success":return{borderStyle:this.containerBorderSuccess,iconColor:(0,c.css)({color:"rgb(71, 184, 129)"}),iconClass:"fa fa-check-circle"};case"warning":return{borderStyle:this.containerBorderWarn,iconColor:(0,c.css)({color:"rgb(217, 130, 43)"}),iconClass:"fa fa-exclamation-triangle"};case"none":return{borderStyle:this.containerBorderNotify,iconColor:(0,c.css)({color:"rgb(16, 112, 202)"}),iconClass:"fa fa-exclamation-circle"};case"danger":return{borderStyle:this.containerBorderDanger,iconColor:(0,c.css)({color:"rgb(236, 76, 71)"}),iconClass:"fa fa-exclamation-circle"}}}},{key:"render",value:function(){var e=this.getContainerStyle(this.props.intent);return u.default.createElement("div",(0,c.css)(e.borderStyle,this.containerStyle),u.default.createElement("div",{className:this.toastIcon},u.default.createElement("i",i({className:e.iconClass},e.iconColor))),u.default.createElement("div",{className:this.toastTextContainer},u.default.createElement("p",{className:this.toastTextTitle},this.props.title),this.props.children?u.default.createElement("p",{className:this.toastTextChild},this.props.children):null),u.default.createElement("div",{onClick:this.props.onRemove,className:this.toastClose},u.default.createElement("span",null,"\xd7")))}}]),t}(u.default.PureComponent);t.default=f},266:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(3),h={fileType:f.default.string,parentPath:f.default.string.isRequired,onAddFolder:f.default.func.isRequired,checkDuplicatedName:f.default.func.isRequired,addFolderCancel:f.default.func.isRequired},g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){e.target.value.trim()?n.setState({isSubmitBtnActive:!0}):n.setState({isSubmitBtnActive:!1}),n.setState({childName:e.target.value})},n.handleSubmit=function(){if(n.state.isSubmitBtnActive){var e=n.state.childName;if(n.checkDuplicatedName()){var t=(0,p.gettext)('The name "{name}" is already taken. Please choose a different name.');t=t.replace("{name}",m.Utils.HTMLescape(e)),n.setState({errMessage:t})}else{var a=n.state.parentPath+e;n.props.onAddFolder(a)}}},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.toggle=function(){n.props.addFolderCancel()},n.checkDuplicatedName=function(){return n.props.checkDuplicatedName(n.state.childName)},n.state={parentPath:"",childName:"",errMessage:"",isSubmitBtnActive:!1},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.parentPath;"/"===e[e.length-1]?this.setState({parentPath:e}):this.setState({parentPath:e+"/"}),this.newInput.focus(),this.newInput.setSelectionRange(0,0)}},{key:"render",value:function(){var e=this;return u.default.createElement(d.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(d.ModalHeader,{toggle:this.toggle},(0,p.gettext)("New Folder")),u.default.createElement(d.ModalBody,null,u.default.createElement(d.Form,null,u.default.createElement(d.FormGroup,null,u.default.createElement(d.Label,{for:"folderName"},(0,p.gettext)("Name")),u.default.createElement(d.Input,{id:"folderName",value:this.state.childName,innerRef:function(t){e.newInput=t},onKeyPress:this.handleKeyPress,onChange:this.handleChange}))),this.state.errMessage&&u.default.createElement(d.Alert,{color:"danger",className:"mt-2"},this.state.errMessage)),u.default.createElement(d.ModalFooter,null,u.default.createElement(d.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(d.Button,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},268:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(33),p=a(d),m={children:f.default.object},h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"main-panel-north "+(this.props.children?"border-left-show":"")},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"}),u.default.createElement("div",{className:"operation"},this.props.children)),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(p.default,{isAdminPanel:!0})))}}]),t}(s.Component);h.propTypes=m,t.default=h},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var a=n(2),r=n(19),o=n(13),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=t.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function(e){if("undefined"==typeof e)return" ";if(e<0)return"--";var t=["bytes","KB","MB","GB","TB","PB"];if(0===e)return e+" "+t[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?e+" "+t[n]:(e/Math.pow(1e3,n)).toFixed(1)+" "+t[n]},isHiDPI:function(){return(window.devicePixelRatio?window.devicePixelRatio:1)>1},isDesktop:function(){return window.innerWidth>=768},FILEEXT_ICON_MAP:{md:"txt.png",txt:"txt.png",pdf:"pdf.png",doc:"word.png",docx:"word.png",odt:"word.png",fodt:"word.png",ppt:"ppt.png",pptx:"ppt.png",odp:"ppt.png",fodp:"ppt.png",xls:"excel.png",xlsx:"excel.png",ods:"excel.png",fods:"excel.png",mp4:"video.png",ogv:"video.png",webm:"video.png",mov:"video.png",flv:"video.png",wmv:"video.png",rmvb:"video.png",mp3:"music.png",oga:"music.png",ogg:"music.png",flac:"music.png",aac:"music.png",ac3:"music.png",wma:"music.png",jpg:"pic.png",jpeg:"pic.png",png:"pic.png",svg:"pic.png",gif:"pic.png",bmp:"pic.png",ico:"pic.png",default:"file.png"},imageCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["gif","jpeg","jpg","png","ico","bmp","tif","tiff"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},isEditableOfficeFile:function(e){return-1!=e.lastIndexOf(".")&&-1!=["docx","pptx","xlsx"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},videoCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["mp4","ogv","webm","mov"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},checkDuplicatedNameInList:function(e,t){return e.some(function(e){return e.name===t})},encodePath:function(e){if(!e)return"";for(var t=e.split("/"),n=[],a=0,r=t.length;a<r;a++)n.push(encodeURIComponent(t[a]));return n.join("/")},HTMLescape:function(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML},generateDialogTitle:function(e,t){var n=this.HTMLescape(t),a='<span class="op-target ellipsis ellipsis-op-target" title='+n+">"+n+"</span>";return e.replace("{placeholder}",a)},getFileName:function(e){var t=e.lastIndexOf("/");return e.slice(t+1)},getPaths:function(e){for(var t=e.split("/").slice(1),n=[];t.length;)n.push("/"+t.join("/")),t.pop();return n.reverse()},getFolderName:function(e){return"/"===e?e:(e="/"!==e[e.length-1]?e:e.slice(0,e.length-2),e.slice(e.lastIndexOf("/")+1))},getDirName:function(e){var t=e.slice(0,e.lastIndexOf("/"));return""===t?"/":t},isChildPath:function(e,t){return this.getDirName(e)===t},isAncestorPath:function(e,t){return t.indexOf(e)>-1},renameAncestorPath:function(e,t,n){return e.replace(t,n)},joinPath:function(e,t){return"/"===e[e.length-1]?e+t:e+"/"+t},isSupportUploadFolder:function(){return-1!=navigator.userAgent.indexOf("Firefox")||navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Safari")>-1},isIEBrower:function(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,n=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;return t||n},getDefaultLibIconUrl:function(e){var t=l.isHiDPI()?48:24;t=e?256:t;return a.mediaUrl+"img/lib/"+t+"/lib.png"},getLibIconUrl:function(e,t){var n=e.permission||e.share_permission,r=l.isHiDPI()?48:24;r=t?256:r;var o="lib.png";switch(e.encrypted&&(o="lib-encrypted.png"),n){case"r":o="lib-readonly.png";break;case"preview":o="lib-cloud-preview.png";break;case"cloud-edit":o="lib-cloud-preview-edit.png"}return"read-only"==e.status&&(o="lib-readonly.png"),a.mediaUrl+"img/lib/"+r+"/"+o},getDirentIcon:function(e,t){var n=this.isHiDPI()?48:24;if(n=t?192:n,e.isDir()){var a=!1;return!e.permission||"r"!==e.permission&&"preview"!==e.permission||(a=!0),this.getFolderIconUrl(a,n)}return this.getFileIconUrl(e.name,n)},getAdminTemplateDirentIcon:function(e,t){var n=this.isHiDPI()?48:24;return n=t?192:n,e.is_file?this.getFileIconUrl(e.obj_name,n):this.getFolderIconUrl()},getFolderIconUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];return t||(t=l.isHiDPI()?48:24),t=t>24?192:24,a.mediaUrl+"img/folder"+(e?"-read-only-":"-")+t+".png"},getFileIconUrl:function(e,t){t||(t=l.isHiDPI()?48:24),t=t>24?192:24;var n="";return-1==e.lastIndexOf(".")?a.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default:(n=e.substr(e.lastIndexOf(".")+1).toLowerCase(),this.FILEEXT_ICON_MAP[n]?a.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP[n]:a.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default)},getLibIconTitle:function(e){var t,n=e.permission||e.share_permission;if(e.encrypted)t=(0,a.gettext)("Encrypted library");else if(e.is_admin)t=(0,a.gettext)("Admin access");else switch(n){case"rw":t=(0,a.gettext)("Read-Write library");break;case"r":t=(0,a.gettext)("Read-Only library");break;case"cloud-edit":t=(0,a.gettext)("Online Read-Write library");break;case"preview":t=(0,a.gettext)("Online Read-Only library")}return t},getFolderIconTitle:function(e){var t;switch(e.permission){case"rw":t=(0,a.gettext)("Read-Write folder");break;case"r":t=(0,a.gettext)("Read-Only folder");break;case"cloud-edit":t=(0,a.gettext)("Online Read-Write folder");break;case"preview":t=(0,a.gettext)("Online Read-Only folder")}return t},getFolderOperationList:function(e,t,n,r){var o=[],s=i.default.SHARE,u=i.default.DOWNLOAD,c=i.default.DELETE,f=i.default.RENAME,d=i.default.MOVE,p=i.default.COPY,m=i.default.PERMISSION,h=i.default.OPEN_VIA_CLIENT,g=n.permission;return r&&("rw"!=g&&"r"!=g||o.push(u),l.isHasPermissionToShare(t,g,n)&&o.push(s),"rw"==g&&o.push(c,"Divider")),"rw"==g&&(o.push(f,d,p),a.folderPermEnabled&&(e&&t.has_been_shared_out||t.is_admin)&&o.push("Divider",m),o.push("Divider",h)),"r"!=g||t.encrypted||o.push(p),o},getFileOperationList:function(e,t,n){var r=[],o=i.default.SHARE,s=i.default.DOWNLOAD,u=i.default.DELETE,c=i.default.RENAME,f=i.default.MOVE,d=i.default.COPY,p=i.default.TAGS,m=i.default.UNLOCK,h=i.default.LOCK,g=i.default.COMMENT,Y=i.default.HISTORY,S=i.default.ACCESS_LOG,Z=i.default.OPEN_VIA_CLIENT,L=t.permission;return n&&("rw"!=L&&"r"!=L||r.push(s),l.isHasPermissionToShare(e,L,t)&&r.push(o),"rw"==L&&(!t.is_locked||t.is_locked&&t.locked_by_me)&&r.push(u),r.push("Divider")),"rw"==L&&((!t.is_locked||t.is_locked&&t.locked_by_me)&&r.push(c,f),r.push(d,p),a.isPro&&(t.is_locked?(t.locked_by_me||"OnlineOffice"==t.lock_owner)&&r.push(m):r.push(h)),r.push("Divider"),a.enableFileComment&&r.push(g),r.push(Y),a.isPro&&a.fileAuditEnabled&&r.push(S),r.push("Divider",Z)),"r"==L&&(e.encrypted||r.push(d),a.enableFileComment&&r.push(g),r.push(Y)),r},getDirentOperationList:function(e,t,n,a){return"dir"==n.type?l.getFolderOperationList(e,t,n,a):l.getFileOperationList(t,n,a)},sharePerms:function(e){var t;switch(e){case"rw":t=(0,a.gettext)("Read-Write");break;case"r":t=(0,a.gettext)("Read-Only");break;case"admin":t=(0,a.gettext)("Admin");break;case"cloud-edit":t=(0,a.gettext)("Online Read-Write");break;case"preview":t=(0,a.gettext)("Online Read-Only")}return t},sharePermsExplanation:function(e){var t;switch(e){case"rw":t=(0,a.gettext)("User can read, write, upload, download and sync files.");break;case"r":t=(0,a.gettext)("User can read, download and sync files.");break;case"admin":t=(0,a.gettext)("Besides Write permission, user can also share the library.");break;case"cloud-edit":t=(0,a.gettext)("User can view and edit file online via browser. Files can't be downloaded.");break;case"preview":t=(0,a.gettext)("User can only view files online via browser. Files can't be downloaded.")}return t},getShareLinkPermissionObject:function(e){switch(e){case"preview_download":return{value:e,text:(0,a.gettext)("Preview and download"),permissionDetails:{can_edit:!1,can_download:!0}};case"preview_only":return{value:e,text:(0,a.gettext)("Preview only"),permissionDetails:{can_edit:!1,can_download:!1}};case"edit_download":return{value:e,text:(0,a.gettext)("Edit on cloud and download"),permissionDetails:{can_edit:!0,can_download:!0}}}},getDTableShareLinkPermissionObject:function(e){switch(e){case"read-only":return{value:e,text:"read-only",permission:"r"};case"read-write":return{value:e,text:"read-write",permission:"rw"}}},formatSize:function(e){var t=e.bytes,n=e.precision||0;return t>=0&&t<1e3?t+" B":t>=1e3&&t<1e6?(t/1e3).toFixed(n)+" KB":t>=1e6&&t<1e9?(t/1e6).toFixed(n)+" MB":t>=1e9&&t<1e12?(t/1e9).toFixed(n)+" GB":t>=1e12?(t/1e12).toFixed(n)+" TB":t+" B"},formatBitRate:function(e){var t;return"number"!==typeof e?"":(t=e/8,t>=1e9?(t/1e9).toFixed(2)+" GB/s":t>=1e6?(t/1e6).toFixed(2)+" MB/s":t>=1e3?(t/1e3).toFixed(2)+" kB/s":t.toFixed(2)+" B/s")},isMarkdownFile:function(e){var t=e.lastIndexOf(".");if(-1===t)return!1;var n=e.substring(t).toLowerCase();return".md"===n||".markdown"===n},isInternalMarkdownLink:function(e,t){return new RegExp(a.serviceURL+"/lib/"+t+".*.md$").test(e)},isInternalDirLink:function(e,t){return new RegExp(a.serviceURL+"/library/"+t+".*").test(e)},getPathFromInternalMarkdownLink:function(e,t){var n=new RegExp(a.serviceURL+"/lib/"+t+"/file(.*.md)"),r=n.exec(e);return decodeURIComponent(r[1])},getPathFromInternalDirLink:function(e,t){var n=new RegExp(a.serviceURL+"/library/"+t+"(/.*)"),r=n.exec(e),o=decodeURIComponent(r[1]);return o=o.slice(1),o=o.slice(o.indexOf("/"))},isWikiInternalMarkdownLink:function(e,t){return t=encodeURIComponent(t),new RegExp(a.serviceURL+"/published/"+t+".*.md$").test(e)},isWikiInternalDirLink:function(e,t){return t=encodeURIComponent(t),new RegExp(a.serviceURL+"/published/"+t+".*").test(e)},getPathFromWikiInternalMarkdownLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(a.serviceURL+"/published/"+t+"(.*.md)"),r=n.exec(e),o=r[1];try{o=decodeURIComponent(o)}catch(e){o=o.replace(/%/g,"%25"),o=decodeURIComponent(o)}return o},getPathFromWikiInternalDirLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(a.serviceURL+"/published/"+t+"(/.*)"),r=n.exec(e),o=r[1];try{o=decodeURIComponent(o)}catch(e){o=o.replace(/%/g,"%25"),o=decodeURIComponent(o)}return o},compareTwoWord:function(e,t){var n,a,o=e.charCodeAt(0),i=t.charCodeAt(0);return 19968<o&&o<40869&&19968<i&&i<40869?(n=r.strChineseFirstPY.charAt(o-19968).toLowerCase(),a=r.strChineseFirstPY.charAt(i-19968).toLowerCase(),n>=a?1:-1):19968<o&&o<40869&&!(19968<i&&i<40869)?1:!(19968<o&&o<40869)&&19968<i&&i<40869?-1:(n=e.toLowerCase(),a=t.toLowerCase(),this.compareStrWithNumbersIn(n,a))},compareStrWithNumbersIn:function(e,t){var n,a,r,o=/\d+|\D+/g,i=/\d/,l=e.match(o),s=t.match(o),u=Math.min(l.length,s.length);if(l&&s&&(n=i.test(l[0]))==i.test(s[0]))for(var c=0;c<u;c++){if(a=l[c],r=s[c],n&&(a=parseInt(a,10),r=parseInt(r,10)),a!=r)return a<r?-1:1;n=!n}return(e>=t)-(e<=t)},sortRepos:function(e,t,n){var a=this,r=void 0;switch(t+"-"+n){case"name-asc":r=function(e,t){return e.repo_name?t.repo_name?a.compareTwoWord(e.repo_name,t.repo_name):-1:1};break;case"name-desc":r=function(e,t){return e.repo_name?t.repo_name?-a.compareTwoWord(e.repo_name,t.repo_name):1:-1};break;case"time-asc":r=function(e,t){return e.last_modified<t.last_modified?-1:1};break;case"time-desc":r=function(e,t){return e.last_modified<t.last_modified?1:-1};break;case"size-asc":r=function(e,t){if(e.size===t.size){return a.compareTwoWord(e.repo_name,t.repo_name)}return e.size_original<t.size_original?-1:1};break;case"size-desc":r=function(e,t){if(e.size===t.size){return-a.compareTwoWord(e.repo_name,t.repo_name)}return e.size_original<t.size_original?1:-1}}return e.sort(r),e},sortDirents:function(e,t,n){var a=this,r=void 0;switch(t+"-"+n){case"name-asc":r=function(e,t){return a.compareTwoWord(e.name,t.name)};break;case"name-desc":r=function(e,t){return-a.compareTwoWord(e.name,t.name)};break;case"time-asc":r=function(e,t){return e.mtime<t.mtime?-1:1};break;case"time-desc":r=function(e,t){return e.mtime<t.mtime?1:-1};break;case"size-asc":r=function(e,t){if("dir"==e.type&&"dir"==t.type){return a.compareTwoWord(e.name,t.name)}return e.size_original<t.size_original?-1:1};break;case"size-desc":r=function(e,t){if("dir"==e.type&&"dir"==t.type){return-a.compareTwoWord(e.name,t.name)}return e.size_original<t.size_original?1:-1}}return e.sort(function(e,t){return"dir"==e.type&&"file"==t.type?-1:"file"==e.type&&"dir"==t.type?1:r(e,t)}),e},getErrorMsg:function(e){return e.response?e.response.data&&e.response.data.error_msg?e.response.data.error_msg:(0,a.gettext)("Error"):(0,a.gettext)("Please check the network.")},changeMarkdownNodes:function(e,t){return e.map(function(e){t(e),e.nodes&&e.nodes.length>0&&l.changeMarkdownNodes(e.nodes,t)}),e},chooseLanguage:function(e){var t=void 0;switch(e){case"py":t="python";break;case"js":t="javascript";break;case"c":t="text/x-csrc";break;case"cpp":t="text/x-c++src";break;case"java":t="text/x-java";break;case"cs":t="text/x-csharp";break;case"mdf":t="text/x-sql";break;case"html":t="htmlmixed";break;default:t=e}return t},DARK_COLOR_MAP:{red:"#D11507",orange:"#FF8C00",yellow:"#EDEF00",green:"#006400",cyan:"#00E0E1",blue:"#2510A3",indigo:"#350C56",purple:"#551054",pink:"#E3A5B0",azure:"#C4D0D0",lime:"#00E100",teal:"#006A6B",gray:"#545454","#FFA8A8":"#E49090","#FFA94D":"#E39136","#FFD43B":"#E0B815","#A0EC50":"#83CF32","#A9E34B":"#8DC72E","#63E6BE":"#43CAA4","#4FD2C9":"#2DB9B0","#72C3FC":"#57ABE3","#91A7FF":"#7A91E7","#E599F7":"#CC82DE","#B197FC":"#9B82E5","#F783AC":"#DF6D97","#CED4DA":"#A8ADB2"},getDarkColor:function(e){return this.DARK_COLOR_MAP[e]},getCopySuccessfulMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,a.gettext)("Successfully copied %(name)s."):2===n?t=(0,a.gettext)("Successfully copied %(name)s and 1 other item."):(t=(0,a.gettext)("Successfully copied %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getMoveSuccessMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,a.gettext)("Successfully moved %(name)s."):2===n?t=(0,a.gettext)("Successfully moved %(name)s and 1 other item."):(t=(0,a.gettext)("Successfully moved %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getCopyFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,a.gettext)("Failed to copy %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,a.gettext)("Failed to copy %(name)s."),t=t.replace("%(name)s",e[0])},getMoveFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,a.gettext)("Failed to move %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,a.gettext)("Failed to move %(name)s."),t=t.replace("%(name)s",e[0])},handleSearchedItemClick:function(e){if(!0===e.is_dir){var t=a.siteRoot+"library/"+e.repo_id+"/"+e.repo_name+e.path;window.open("about:blank").location.href=t}else{var n=a.siteRoot+"lib/"+e.repo_id+"/file"+l.encodePath(e.path);window.open("about:blank").location.href=n}},generatePassword:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789",n="",a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},pathNormalize:function(e){for(var t=e.split("/"),n=[],a=0;a<t.length;a++)"."!==t[a]&&""!==t[a]&&(".."===t[a]?n.pop():n.push(t[a]));return n.join("/")},getEventData:function(e,t){return e.target.dataset?e.target.dataset[t]:e.target.getAttribute("data-"+t)},isHasPermissionToShare:function(e,t,n){var r=e.is_admin,o=e.is_virtual,i=e.encrypted,l=e.owner_email,s=l===a.username;if(i)return!1;if(n&&"file"===n.type){var u=!1;return!a.canGenerateShareLink||"rw"!=t&&"r"!=t||(u=!0),u}if(a.canGenerateShareLink&&("rw"==t||"r"==t))return!0;if(a.canGenerateUploadLink&&"rw"==t)return!0;return!(o||!s&&!r)&&!0},registerGlobalVariable:function(e,t,n){window[e]||(window[e]={}),window[e][t]=n},formatTime:function(e){var t=parseInt(e),n=0,a=0;t>60&&(n=parseInt(t/60),t=parseInt(t%60)),n>60&&(a=parseInt(n/60),n=parseInt(n%60));var r=("00"+parseInt(t)).slice(-2);return r=n>0?("00"+parseInt(n)).slice(-2)+":"+r:"00:"+r,r=a>0?("00"+parseInt(a)).slice(-2)+":"+r:"00:"+r}}},33:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(8),p=a(d),m=n(3),h=n(4),g=n(2),Y=n(6),S=a(Y),Z={isAdminPanel:f.default.bool},L=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getContainer=function(){return p.default.findDOMNode(n)},n.handleProps=function(){n.state.showInfo?n.addEvents():n.removeEvents()},n.addEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.addEventListener(e,n.handleDocumentClick,!0)})},n.removeEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.removeEventListener(e,n.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===m.Utils.keyCodes.tab)){var t=n.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==m.Utils.keyCodes.tab)&&n.setState({showInfo:!n.state.showInfo})}},n.onClickAccount=function(){n.isFirstMounted?(h.seafileAPI.getAccountInfo().then(function(e){n.setState({userName:e.data.name,contactEmail:e.data.email,usageRate:e.data.space_usage,quotaUsage:m.Utils.bytesToSize(e.data.usage),quotaTotal:m.Utils.bytesToSize(e.data.total),isStaff:e.data.is_staff,isInstAdmin:e.data.is_inst_admin,isOrgStaff:1===e.data.is_org_staff,showInfo:!n.state.showInfo})}).catch(function(e){var t=m.Utils.getErrorMsg(e);S.default.danger(t)}),n.isFirstMounted=!1):n.setState({showInfo:!n.state.showInfo})},n.renderMenu=function(){var e=void 0,t=n.state,a=t.isStaff,r=t.isOrgStaff,o=t.isInstAdmin;return n.props.isAdminPanel?a?e={url:g.siteRoot,text:(0,g.gettext)("Exit System Admin")}:r?e={url:g.siteRoot,text:(0,g.gettext)("Exit Organization Admin")}:o&&(e={url:g.siteRoot,text:(0,g.gettext)("Exit Institution Admin")}):a?e={url:g.siteRoot+"sys/useradmin/",text:(0,g.gettext)("System Admin")}:r?e={url:g.siteRoot+"org/useradmin/",text:(0,g.gettext)("Organization Admin")}:o&&(e={url:g.siteRoot+"inst/useradmin/",text:(0,g.gettext)("Institution Admin")}),e&&u.default.createElement("a",{href:e.url,title:e.text,className:"item"},e.text)},n.renderAvatar=function(){return u.default.createElement("img",{src:g.appAvatarURL,width:"36",height:"36",className:"avatar",alt:(0,g.gettext)("Avatar")})},n.state={showInfo:!1,userName:"",contactEmail:"",quotaUsage:"",quotaTotal:"",isStaff:!1,isOrgStaff:!1,usageRate:""},n.isFirstMounted=!0,n}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e){this.handleProps()}},{key:"render",value:function(){return u.default.createElement("div",{id:"account"},u.default.createElement("a",{id:"my-info",onClick:this.onClickAccount,className:"account-toggle no-deco d-none d-md-block","aria-label":"View profile and more"},u.default.createElement("span",null,this.renderAvatar()),u.default.createElement("span",{className:"fas fa-caret-down vam"})),u.default.createElement("span",{className:"account-toggle sf2-icon-more mobile-icon d-md-none","aria-label":"View profile and more",onClick:this.onClickAccount}),u.default.createElement("div",{id:"user-info-popup",className:"account-popup sf-popover "+(this.state.showInfo?"":"hide")},u.default.createElement("div",{className:"outer-caret up-outer-caret"},u.default.createElement("div",{className:"inner-caret"})),u.default.createElement("div",{className:"sf-popover-con"},u.default.createElement("div",{className:"item o-hidden"},this.renderAvatar(),u.default.createElement("div",{className:"txt"},this.state.userName)),u.default.createElement("div",{id:"space-traffic"},u.default.createElement("div",{className:"item"},u.default.createElement("p",null,(0,g.gettext)("Used:")," ",this.state.quotaUsage," / ",this.state.quotaTotal),u.default.createElement("div",{id:"quota-bar"},u.default.createElement("span",{id:"quota-usage",className:"usage",style:{width:this.state.usageRate}})))),u.default.createElement("a",{href:g.siteRoot+"profile/",className:"item"},(0,g.gettext)("Settings")),this.renderMenu(),u.default.createElement("a",{href:g.siteRoot+"accounts/logout/",className:"item"},(0,g.gettext)("Log out")))))}}]),t}(s.Component);L.defaultProps={isAdminPanel:!1},L.propTypes=Z,t.default=L},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.seafileAPI=void 0;var a=n(40),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o=n(58),i=n(2),l=new o.SeafileAPI,s=r.default.load("sfcsrftoken");l.initForSeahubUsage({siteRoot:i.siteRoot,xcsrfHeaders:s}),t.seafileAPI=l},41:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=n(0),c=a(u),f=n(1),d=a(f),p=n(245),m=a(p),h=n(4),g=n(2),Y=n(3),S=n(6),Z=a(S),L={placeholder:d.default.string.isRequired,onSelectChange:d.default.func.isRequired,isMulti:d.default.bool.isRequired,className:d.default.string},C=function(e){return c.default.createElement("div",s({},e.innerProps,{style:{margin:"6px 10px",textAlign:"center",color:"hsl(0,0%,50%)"}}),(0,g.gettext)("User not found"))},y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.options=[],n.props.onSelectChange(e)},n.loadOptions=function(e,t){var a=e.trim();a.length>0&&h.seafileAPI.searchUsers(a).then(function(e){n.options=[];for(var a=0;a<e.data.users.length;a++){var r=e.data.users[a],o={};o.value=r.name,o.email=r.email,o.label=c.default.createElement(c.default.Fragment,null,c.default.createElement("img",{src:r.avatar_url,className:"select-module select-module-icon avatar",alt:""}),c.default.createElement("span",{className:"select-module select-module-name"},r.name)),n.options.push(o)}t(n.options)}).catch(function(e){var t=Y.Utils.getErrorMsg(e);Z.default.danger(t)})},n.clearSelect=function(){n.refs.userSelect.select.onChange([],{action:"clear"})},n.options=[],n}return i(t,e),l(t,[{key:"render",value:function(){return c.default.createElement(m.default,{isClearable:!0,classNamePrefix:!0,components:{NoOptionsMessage:C},isMulti:this.props.isMulti,loadOptions:this.loadOptions,onChange:this.handleSelectChange,placeholder:this.props.placeholder,className:"user-select "+this.props.className,value:this.props.value,ref:"userSelect"})}}]),t}(c.default.Component);y.propTypes=L,t.default=y},414:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(2),m=n(3),h={repo:f.default.object.isRequired,toggle:f.default.func.isRequired,onDeleteRepo:f.default.func.isRequired},g=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.toggle=function(){a.props.toggle()},a.onDeleteRepo=function(){a.props.onDeleteRepo(a.props.repo)},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t='<span class="op-target">'+m.Utils.HTMLescape(e.repo_name||e.name)+"</span>",n=(0,p.gettext)("Are you sure you want to delete %s ?");return n=n.replace("%s",t),u.default.createElement(d.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(d.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Delete Library")),u.default.createElement(d.ModalBody,null,u.default.createElement("p",{dangerouslySetInnerHTML:{__html:n}})),u.default.createElement(d.ModalFooter,null,u.default.createElement(d.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(d.Button,{color:"primary",onClick:this.onDeleteRepo},(0,p.gettext)("Delete"))))}}]),t}(s.Component);g.propTypes=h,t.default=g},56:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(3),p=n(97),m=a(p),h={isTextMode:f.default.bool.isRequired,isEditIconShow:f.default.bool.isRequired,permissions:f.default.array.isRequired,currentPermission:f.default.string.isRequired,onPermissionChanged:f.default.func.isRequired},g=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.translatePermission=function(e){return d.Utils.sharePerms(e)},a.translateExplanation=function(e){return d.Utils.sharePermsExplanation(e)},i=n,o(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.permissions,currentOption:this.props.currentPermission,onOptionChanged:this.props.onPermissionChanged,translateOption:this.translatePermission,translateExplanation:this.translateExplanation})}}]),t}(u.default.Component);g.propTypes=h,t.default=g},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o=new r.default;t.default=o},672:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(5),p=n(73),m=a(p),h=n(180),g=a(h),Y=n(4),S=n(2),Z=n(3),L=n(6),C=a(L),y=n(41),b=a(y),E={itemName:f.default.string.isRequired,toggleDialog:f.default.func.isRequired,submit:f.default.func.isRequired,canTransferToDept:f.default.bool},T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e})},n.submit=function(){var e=n.state.selectedOption;n.props.submit(e)},n.onClick=function(){n.setState({transferToUser:!n.state.transferToUser})},n.state={selectedOption:null,errorMsg:[],transferToUser:!0},n.options=[],n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;Y.seafileAPI.listDepartments().then(function(t){for(var n=0;n<t.data.length;n++){var a={};a.value=t.data[n].name,a.email=t.data[n].email,a.label=t.data[n].name,e.options.push(a)}}).catch(function(e){var t=Z.Utils.getErrorMsg(e);C.default.danger(t)})}},{key:"render",value:function(){var e=this.props.itemName,t='<span class="op-target" title='+e+">"+e+"</span>",n=(0,S.gettext)("Transfer Library {library_name}"),a=n.replace("{library_name}",t),r=!0;return void 0!=this.props.canTransferToDept&&(r=this.props.canTransferToDept),u.default.createElement(d.Modal,{isOpen:!0},u.default.createElement(d.ModalHeader,{toggle:this.props.toggleDialog},u.default.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),u.default.createElement(d.ModalBody,null,this.state.transferToUser?u.default.createElement(b.default,{ref:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:(0,S.gettext)("Select a user"),onSelectChange:this.handleSelectChange}):u.default.createElement(m.default,{isClearable:!0,isMulti:!1,maxMenuHeight:200,hideSelectedOptions:!0,components:(0,g.default)(),placeholder:(0,S.gettext)("Select a department"),options:this.options,onChange:this.handleSelectChange}),S.isPro&&r&&u.default.createElement("span",{className:"action-link",onClick:this.onClick},this.state.transferToUser?(0,S.gettext)("Transfer to department"):(0,S.gettext)("Transfer to user"))),u.default.createElement(d.ModalFooter,null,u.default.createElement(d.Button,{color:"secondary",onClick:this.props.toggleDialog},(0,S.gettext)("Cancel")),u.default.createElement(d.Button,{color:"primary",onClick:this.submit},(0,S.gettext)("Submit"))))}}]),t}(u.default.Component);T.propTypes=E,t.default=T},81:function(e,t){},97:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=a(c),d=n(2),p=n(73),m=a(p);n(119);var h={isTextMode:f.default.bool.isRequired,isEditIconShow:f.default.bool.isRequired,options:f.default.array.isRequired,currentOption:f.default.string.isRequired,translateOption:f.default.func.isRequired,translateExplanation:f.default.func,onOptionChanged:f.default.func.isRequired,toggleItemFreezed:f.default.func},g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOptions=function(){n.options=[];for(var e=n.props.options,t=0,a=e.length;t<a;t++){var r={};r.value=e[t],r.label=u.default.createElement("div",null,n.props.translateOption(e[t]),n.props.translateExplanation&&u.default.createElement("div",{className:"permission-editor-explanation"},n.props.translateExplanation(e[t]))),n.options.push(r)}n.setState({options:n.options})},n.onEditPermission=function(e){e.nativeEvent.stopImmediatePropagation(),n.setState({isEditing:!0}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!0)},n.onOptionChanged=function(e){var t=e.value;t!==n.props.currentOption&&n.props.onOptionChanged(t),n.setState({isEditing:!1}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!1)},n.onSelectHandler=function(e){e.nativeEvent.stopImmediatePropagation()},n.onHideSelect=function(){n.setState({isEditing:!1}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!1)},n.state={isEditing:!1,options:[]},n.options=[],n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onHideSelect),this.setOptions()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onHideSelect)}},{key:"render",value:function(){var e=this.props,t=e.currentOption,n=e.isTextMode;return u.default.createElement("div",{className:"permission-editor",onClick:this.onSelectHandler},(!n||this.state.isEditing)&&u.default.createElement(m.default,{options:this.state.options,className:"permission-editor-select",classNamePrefix:"permission-editor",placeholder:this.props.translateOption(t),onChange:this.onOptionChanged,captureMenuScroll:!1}),n&&!this.state.isEditing&&u.default.createElement("div",null,this.props.translateOption(t),this.props.isEditIconShow&&u.default.createElement("span",{title:(0,d.gettext)("Edit"),className:"fa fa-pencil-alt attr-action-icon",onClick:this.onEditPermission})))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},98:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),u=a(s),c=n(1),f=(a(c),n(2)),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"empty-tip"},u.default.createElement("img",{src:f.mediaUrl+"img/no-items-tip.png",alt:"",width:"100",height:"100",className:"no-items-img-tip"}),this.props.children)}}]),t}(u.default.Component);t.default=d}},[2359]);